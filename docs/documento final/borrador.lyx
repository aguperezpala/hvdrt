#LyX 1.6.5 created this file. For more info see http://www.lyx.org/
\lyxformat 345
\begin_document
\begin_header
\textclass article
\begin_preamble
\usepackage[font=small,labelfont={bf,sf},tableposition=top]{caption}
\end_preamble
\use_default_options true
\language spanish
\inputencoding auto
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\paperfontsize 11
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\cite_engine basic
\use_bibtopic false
\paperorientation portrait
\leftmargin 10page%
\rightmargin 10page%
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\defskip medskip
\quotes_language english
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\author "" 
\author "" 
\end_header

\begin_body

\begin_layout Address
\paragraph_spacing single
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
newcommand{
\backslash
HRule}{
\backslash
rule{
\backslash
linewidth}{0.5mm}}
\end_layout

\begin_layout Plain Layout


\backslash
begin{center} 	{
\backslash
Large UNIVERSIDAD NACIONAL DE C
\backslash
'ORDOBA}
\backslash

\backslash
[2ex] 	
\backslash
textsc{
\backslash
LARGE Facultad de Matem
\backslash
'atica,
\backslash

\backslash
[0.5ex] 			Astronom
\backslash
'ia y F
\backslash
'isica}
\backslash

\backslash
[2ex] 	
\backslash
HRule 
\backslash
end{center}
\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center

\size large
\noun on
\color black
Trabajo final de grado
\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
\align center

\series bold
\shape italic
\size large
Software para la detección de variables hidrodinámicas en laboratorio mediante
 técnicas de vídeo de alta definición.
\end_layout

\begin_layout Standard
\align center
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
vspace{3.6cm}
\end_layout

\end_inset


\end_layout

\begin_layout Standard

\series bold
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Autor:
\series default
 Pérez Paladini, Agustín Daniel.
\end_layout

\begin_layout Standard

\series bold
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Director:
\series default
 Ing.
 Mg.
 Paolo Gyssels.
\end_layout

\begin_layout Standard

\series bold
\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset


\begin_inset space \qquad{}
\end_inset

Profesor Representante:
\series default
 Dr.
 Oscar Bustos.
\end_layout

\begin_layout Standard
\begin_inset VSpace vfill
\end_inset


\end_layout

\begin_layout Standard
\align center
30 de Marzo de 2012
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Abstract
En laboratorio se utilizan distintos tipos de instrumentos para medir la
 altura de ola (y otras variables hidrodinámicas), los cuales en general
 tienen un alto costo económico y requieren de un gran conocimiento por
 parte del usuario para su correcta utilización como así también para evitar
 generar daños físicos a las personas o el instrumento en si.
\end_layout

\begin_layout Abstract
En este trabajo se plantea el desarrollo de un sistema utilizado para capturar
 la altura de ola en tiempo real y por medio de una webcam como método alternati
vo y de bajo costo con respecto a los utilizados actualmente en laboratorio.
 
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard

\series bold
\size large
\color black
Agradecimientos
\series default
\size default
\color inherit

\begin_inset VSpace bigskip
\end_inset


\end_layout

\begin_layout Standard
\begin_inset VSpace smallskip
\end_inset


\end_layout

\begin_layout Standard
Quisiera agradecer en primer lugar a mi queridísima madre por su apoyo y
 afecto incondicional a lo largo de toda la carrera y la vida.
 Este trabajo y lo que simboliza va dedicado a ella.
\end_layout

\begin_layout Standard
A mi hermana Julieta y mi cuñado Sebastián por las largas charlas y buenos
 consejos en esta ultima etapa.
\end_layout

\begin_layout Standard
A mi novia Cony, por soportar mis quejas y a mi ser en general, por sus
 aportes anímicos y gráficos a este trabajo.
\end_layout

\begin_layout Standard
A mis hermanos de amistad: Gornete, Fedelo, Gringo, ElHacha, Wil que siempre
 estuvieron al lado mio durante toda mi vida en los buenos y malos momentos.
\end_layout

\begin_layout Standard
A mis amigos Liber, Fabio, Oso, Carlox, Adrian, Ruleman y demás, por tantas
 horas y buenos momentos compartidos.
\end_layout

\begin_layout Standard
A mi director de tesis Paolo Gyssels por la paciencia y la confianza en
 mi.
 Por estar siempre ahí en todo momento cuando lo necesite.
\end_layout

\begin_layout Standard
A Oscar Bustos por su continuo positivismo, y su ayuda constante, a Nicolás
 Wolovick por su apoyo a lo largo de toda la carrera y a Daniel Fridlender
 por su contribución en este trabajo.
\end_layout

\begin_layout Standard
A todos los profesores de la carrera que hicieron de la misma una exelente
 experiencia.
\end_layout

\begin_layout Standard
A toda la gente de la facu por su buena predisposicion y ayuda.
\end_layout

\begin_layout Standard
Y a toda la gente del laboratorio de hidráulica por su buena onda y por
 darme la posibilidad de desarrollar el trabajo ahí.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Introducción
\end_layout

\begin_layout Subsection
Motivaciones
\end_layout

\begin_layout Standard
En la modelación física de laboratorio se emplean en muchos casos instrumentos
 costosos para la medición de variables hidrodinámicas tales como velocidades,
 variaciones de niveles, presiones, trayectorias de las partículas, turbulencia,
 o variables de dinámica sedimentaria, como erosiones de playas, erosiones
 en las pilas de puentes.
 
\end_layout

\begin_layout Standard
Todos los instrumentos modernos de medición de laboratorio requieren una
 buena experiencia por parte del usuario, como en el caso del PIV
\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Particle_image_velocimetry
\end_layout

\end_inset

 (Particle Image Velocimeter), donde se utilizan sensores muy delicados
 como el láser, que inclusive pueden causar daños a las personas que lo
 utilizan sin las adecuadas precauciones.
 En otros casos, los instrumentos que se suelen utilizar son de tipo intrusivos,
 como en el caso del ADV
\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Acoustic_Doppler_velocimetry
\end_layout

\end_inset

 (Acoustic Doppler Velocimeter), o de los sensores de nivel resistivos,
 que se sumergen directamente en el fluido; asimismo, tales instrumentos
 se estropean con el uso.
 Además, todos los sensores son específicos para la medición de las variables
 en un cierto rango de escala espacio-temporal, en algunos casos se utilizan
 solamente en ensayos bidimensionales, determinan un parámetro en un cierto
 volumen de fluido, no pueden describir los procesos cerca de los contornos,
 dependen de la siembra de partículas en el fluido, se corroen si el agua
 es salada, etc.
 
\end_layout

\begin_layout Standard
En este trabajo se desarrolla un sistema de medición y análisis de variables
 hidrodinámicas en laboratorio mediante técnicas de vídeo con cámaras web
 de alta definición.
 Estas técnicas tienen diferentes ventajas con respecto a los métodos e
 instrumentos tradicionales: son técnicas no intrusivas, económicas, son
 fácilmente utilizables por usuarios con poca experiencia en trabajos de
 laboratorio, y son muy flexibles porqué se pueden aplicar a diferentes
 tipos de mediciones y a diferentes escalas espacio-temporales de los procesos.
 
\end_layout

\begin_layout Standard
La ventaja principal de los instrumentos tradicionales es la elevada precisión
 de la medición que tienen que realizar.
 La exactitud de las mediciones que se pueden realizar con vídeo cámaras
 depende de la definición de las mismas, con lo cual un aumento en la precisión
 requiere un costo económico mayor en la adquisición de la misma.
 Sin embargo en aplicaciones ingenieriles de laboratorio, una webcam de
 alta definición estándar puede ser suficiente para el nivel de detalle
 requerido.
 Este aspecto será analizado en este proyecto, en particular para realizar
 mediciones de niveles con la suficiente precisión.
 
\end_layout

\begin_layout Standard
En mediciones de campo, las muestras con vídeo cámaras de alta definición
 ofrecen ya muchas aplicaciones practicas y muy funcionales, por ejemplo
 para la detección de la erosión costera y en la determinación de parámetros
 de oleaje (
\begin_inset CommandInset citation
LatexCommand cite
key "key-2"

\end_inset

).
\end_layout

\begin_layout Standard
Las aplicaciones de estas técnicas en laboratorio son múltiples en los campos
 de la mecánica de fluidos y de la dinámica sedimentaria, entre otros.
 En principio, se implementará una técnica para la adquisición de datos
 de altura de ola en tiempo real y su posterior análisis, pero la metodología
 servirá como punto de partida para las mediciones de otros parámetros hidrodiná
micos (como rotura de oleaje, dispersión de contaminante) y sedimento-lógicos
 de interés (erosión de un perfil de playa).
 
\end_layout

\begin_layout Subsection
Objetivos
\end_layout

\begin_layout Standard
El objetivo principal de este trabajo es optimizar la toma de datos de la
 variable 
\begin_inset Quotes eld
\end_inset

altura de la superficie libre
\begin_inset Quotes erd
\end_inset

 (altura de ola) mediante cámaras de alta definición
\begin_inset Foot
status open

\begin_layout Plain Layout
http://es.wikipedia.org/wiki/Alta_definición
\end_layout

\end_inset

, durante la realización de ensayos de laboratorio con un canal bidimensional
 de oleaje.
 La adquisición de datos de altura de ola en tiempo real se realiza en la
 actualidad mediante el empleo de sensores de niveles intrusivos (se sumergen
 en el fluido) de tipo resistivos que brindan una frecuencia de muestreo
 de hasta 100 Hz.
 En la mayoría de los trabajos que se realizan en el campo de la ingeniería
 marítima o de costas, es suficiente un muestreo de 20-25 Hz para medir
 y procesar la altura de ola que se genera en laboratorio.
 
\end_layout

\begin_layout Standard
Las técnicas de vídeo a implementar deberán en primer lugar rectificar las
 imágenes a procesar y realizar muestreos de las variables a medir con tomas
 de imágenes de alta definición con frecuencias igual o superiores a los
 20 Hz.
 
\end_layout

\begin_layout Standard
Durante los ensayos estas tomas deberán permitir la visualización en tiempo
 real de la variación de la variable a medir de manera tal que el funcionamiento
 de esta metodología pueda ser equivalente (dentro de una precisión admitida)
 a las mediciones realizadas con los instrumentos tradicionales para estudios
 en el campo de la ingeniería.
 
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Fundamentos de hidrodinámica marina
\end_layout

\begin_layout Subsection
Introducción
\begin_inset CommandInset label
LatexCommand label
name "sub:Hidrodinamica-Introduccion"

\end_inset


\end_layout

\begin_layout Standard
Las olas del océano son movimientos ondulatorios que ponen de manifiesto
 la propagación de energía mecánica entre la superficie marina y la atmósfera.
 Éstas son generadas por distintos factores naturales (viento, perturbaciones
 meteorológicas, terremotos, etc).
 Las olas son perturbaciones que se propagan en la superficie del mar y
 cuyo movimiento en mar abierto viene amortiguado principalmente por la
 gravedad.
\end_layout

\begin_layout Standard
De manera esquemática, en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Distribucion-energética-de"

\end_inset

 se puede observar la energía de las ondas de superficie asociadas a cada
 frecuencia.
 En este trabajo se estudiaran las olas de viento pertenecientes a las frecuenci
as con
\shape italic
\color blue
 
\shape default
\color inherit
períodos entre 1 y 30 segundos (ondas de viento cuya fuerza estabilizadora
 es la gravedad).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_tam_olas.JPG
	lyxscale 50
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Distribucion-energética-de"

\end_inset

Distribución energética de las ondas de superficie.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Matemáticamente se puede describir a las olas, en forma general, como oscilacion
es uniformes y periódicas de la superficie del agua, distinguiendo dos tipos:
 ondas progresivas (se propagan en una dirección) y ondas estacionarias
 (aquellas que no se propagan, como por ejemplo las oscilaciones de niveles
 en cuerpos de agua cerrados o en puertos); en este trabajo se analizan
 las primeras.
 Existen distintas magnitudes que caracterizan a las ondas y algunas definicione
s útiles para representarlas, estas son (
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Parámetros-asociados-a"

\end_inset

):
\end_layout

\begin_layout Itemize
\begin_inset Formula $\eta$
\end_inset

: Desplazamiento de la superficie libre (desplazamiento vertical de la superfici
e del fluido con respecto a un nivel medio de referencia NM (MWL
\shape italic
, Mean Water Level
\shape default
)).
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $T$
\end_inset

: Periodo de la onda (tiempo que transcurre entre dos pasos de un punto
 idéntico de la ola).
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $L$
\end_inset

: Longitud de la onda (distancia entre dos puntos idénticos de la ola).
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $cresta$
\end_inset

: Punto en el que la superficie libre alcanza un un máximo.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $seno$
\end_inset

: Punto en el que la superficie libre alcanza un mínimo.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $paso\; por\; cero$
\end_inset

: Puntos en el que la superficie libre interseca al nivel medio de referencia.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $H$
\end_inset

: Altura de onda (distancia vertical total entre seno y cresta).
\end_layout

\begin_layout Itemize
\begin_inset Formula $A_{c}$
\end_inset

: Amplitud de la cresta (distancia vertical máxima entre nivel de reposo
 y cresta).
\end_layout

\begin_layout Itemize
\begin_inset Formula $A_{s}$
\end_inset

: Amplitud del seno (distancia vertical máxima entre nivel de reposo y seno).
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $nivel\; en\; reposo$
\end_inset

: NR (SWL, 
\shape italic
Still Water Level
\shape default
) nivel correspondiente en ausencia de olas.
 
\end_layout

\begin_layout Itemize
\begin_inset Formula $h$
\end_inset

: profundidad o calado (distancia entre el fondo y el NR, en caso de presencia
 de ondas el nivel medio no es NR ya que este viene modificado usándose
 en cambio a NM como referencia).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_param_onda.JPG
	width 45page%
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Parámetros-asociados-a"

\end_inset

Parámetros asociados a la onda (extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-3"

\end_inset

)
\end_layout

\end_inset


\end_layout

\end_inset


\begin_inset CommandInset label
LatexCommand label
name "Parametros de las ondas"

\end_inset


\end_layout

\begin_layout Standard
En general, las teorías de ondas, tienen como objetivo calcular la 
\shape italic
celeridad 
\shape default
o
\shape italic
 velocidad de fase
\shape default
 (cuando las magnitudes 
\begin_inset Formula $H$
\end_inset

, 
\begin_inset Formula $L$
\end_inset

 o 
\begin_inset Formula $h$
\end_inset

 son conocidas), que es la velocidad de propagación 
\begin_inset Formula $C$
\end_inset

, definida como
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
C=\frac{L}{T}\;[m/s]\quad o\quad C=\frac{\omega}{\kappa}\;[m/s]\end{equation}

\end_inset


\end_layout

\begin_layout Standard
donde 
\begin_inset Formula $\kappa$
\end_inset

 es el 
\shape italic
numero de onda
\shape default
 definida como
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\kappa=\frac{2\pi}{L}\;[rad/m]\end{equation}

\end_inset


\end_layout

\begin_layout Standard
y 
\shape italic

\begin_inset Formula $\omega$
\end_inset

 
\shape default
la
\shape italic
 frecuencia angular 
\shape default
definida como
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\omega=\frac{2\pi}{T}\;[rad/s]\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Utilizando estos parámetros se puede caracterizar (usando la teoría lineal)
 la superficie libre de las ondas de tipo estacionarias como
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\eta(x,t)=A\cos\kappa x\cos\omega t\end{equation}

\end_inset


\end_layout

\begin_layout Standard
las cuales se caracterizan por tener su evolución espacial y temporal desacoplad
a.
 Este tipo de ondas no progresa en el espacio oscilando verticalmente entre
 puntos fijos llamados nodos.
\end_layout

\begin_layout Standard
Por otro lado se encuentran las ondas progresivas, donde su movimiento temporal
 y espacial están acoplados, dando lugar a la siguiente formula, la cual
 caracteriza su superficie libre
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\eta(x,t)=A\cos(\kappa x-\omega t)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
propagándose y manteniendo su forma en la dirección positiva del eje 
\begin_inset Formula $x$
\end_inset

 a una velocidad 
\begin_inset Formula $C$
\end_inset

.
\end_layout

\begin_layout Subsection
Teoría lineal de ondas
\end_layout

\begin_layout Standard
La teoría lineal de ondas es una simplificación matemática al problema de
 la descripción del movimiento y transformación de las ondas en el mar.
 Tiene ventajas en el sentido que (i) es una teoría sencilla, (ii) posibilita
 la obtención de soluciones analíticas, (iii) puede usarse como base para
 obtener otras soluciones por superposición.
\end_layout

\begin_layout Standard
En esta teoría existe un eje horizontal de simetría que es el nivel de reposo
 donde se cumple que 
\begin_inset Formula $A_{c}=A_{s}$
\end_inset

 lo que nos da 
\begin_inset Formula $H=A_{c}+A_{s}$
\end_inset

 donde 
\begin_inset Formula $A_{c}=A_{s}=A$
\end_inset

 quedando 
\begin_inset Formula $H=2A$
\end_inset

, donde 
\begin_inset Formula $A$
\end_inset

 se define como amplitud.
\end_layout

\begin_layout Standard
El problema se plantea definiendo las ecuaciones que gobiernan el movimiento
 del fluido, la ecuación de continuidad y las ecuaciones de momentum (que
 deriva directamente de la 2da ley de Newton).
 Con este planteamiento se tienen 4 variables: las tres componentes de la
 velocidad 
\begin_inset Formula $u$
\end_inset

, 
\begin_inset Formula $v$
\end_inset

, 
\begin_inset Formula $w$
\end_inset

 y la presión 
\begin_inset Formula $p$
\end_inset

.
 Bajo ciertas hipótesis simplificativas (fluido incomprimible, gravedad
 como única fuerza externa, fluido no viscoso) las ecuaciones llegan a tener
 la siguiente forma 
\begin_inset CommandInset citation
LatexCommand cite
key "key-4"

\end_inset

: 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\frac{\partial u}{\partial x}+\frac{\partial v}{\partial y}+\frac{\partial w}{\partial z}=0\label{eq:continuidad}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\begin{array}{c}
\,\frac{Du}{Dt}=\frac{\partial u}{\partial t}+u\frac{\partial u}{\partial x}+v\frac{\partial u}{\partial y}+w\frac{\partial u}{\partial z}=-\frac{1}{\rho}\frac{\partial p}{\partial x}\\
\frac{Dv}{Dt}=\frac{\partial v}{\partial t}+u\frac{\partial v}{\partial x}+v\frac{\partial v}{\partial y}+w\frac{\partial v}{\partial z}=-\frac{1}{\rho}\frac{\partial p}{\partial y}\\
\qquad\,\frac{Dw}{Dt}=\frac{\partial w}{\partial t}+u\frac{\partial w}{\partial x}+v\frac{\partial w}{\partial y}+w\frac{\partial w}{\partial z}=-\frac{1}{\rho}\frac{\partial p}{\partial z}-g\end{array}\label{eq:euler}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
La solución de estas ecuaciones es complicada, pero introduciendo la hipótesis
 de flujo irrotacional se puede introducir una función escalar de la cual
 dependen las variables a determinar 
\begin_inset Formula $u$
\end_inset

, 
\begin_inset Formula $v$
\end_inset

 y 
\begin_inset Formula $w$
\end_inset

.
 El problema se reduce a uno de dos variables: 
\begin_inset Formula $\Phi$
\end_inset

 y 
\begin_inset Formula $p$
\end_inset

, dando como resultado dos ecuaciones, la de continuidad y la ecuación de
 Bernoulli.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\nabla{}^{2}\Phi=\frac{\partial^{2}\Phi}{\partial x^{2}}+\frac{\partial^{2}\Phi}{\partial y^{2}}+\frac{\partial^{2}\Phi}{\partial z^{2}}=0\label{eq:continuidad2}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
-\frac{\partial\Phi}{\partial t}+\frac{1}{2}\left[\left(\frac{\partial\Phi}{\partial x}\right)^{2}+\left(\frac{\partial\Phi}{\partial y}\right)^{2}+\left(\frac{\partial\Phi}{\partial z}\right)^{2}\right]+\frac{p}{\rho}+gz=C(t)\label{eq:bernoulli}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
El problema sigue siendo no-lineal.
 La hipótesis de linealidad simplifica aun más el problema y permite llegar
 a una formulación analítica de la solución del potencial.
 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\Phi(x,z,t)=-\frac{Ag}{w}\frac{\cosh k(h+z)}{\cosh kh}\sin(kx-wt)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $\Phi(x,z,t)$
\end_inset

 el 
\shape italic
potencial de velocidades
\shape default
, se lo puede expresar de diferentes formas, pero la estructura es siempre
 la misma, donde se pueden identificar tres partes diferentes: (1) el módulo
 o magnitud del potencial dado 
\begin_inset Formula $g\frac{A}{\omega}$
\end_inset

 (siendo 
\begin_inset Formula $g$
\end_inset

 la gravedad, 
\begin_inset Formula $A$
\end_inset

 amplitud, 
\begin_inset Formula $\omega$
\end_inset

 la frecuencia angular); (2) una función de profundidad 
\begin_inset Formula $\cosh\kappa(h+z)/\cosh\kappa h$
\end_inset

 (donde 
\begin_inset Formula $h$
\end_inset

 es la profundidad o calado y 
\begin_inset Formula $\kappa$
\end_inset

 el numero de onda); (3) una función 
\begin_inset Formula $(\kappa x-\omega t)$
\end_inset

 que relaciona 
\begin_inset Formula $x$
\end_inset

 con 
\begin_inset Formula $t$
\end_inset

.
\end_layout

\begin_layout Standard
A este potencial le corresponde una superficie libre en 
\begin_inset Formula $z=0$
\end_inset

 dada por (
\begin_inset CommandInset citation
LatexCommand cite
key "key-4"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\eta(x,t)=\frac{1}{g}(\frac{\partial\Phi}{\partial t})=A\cos(\kappa x-\omega t)=\frac{H}{2}\cos(\kappa x-\omega t)\label{eq:1.77}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Esta ultima expresión corresponde a una onda que se propaga con una celeridad
 
\begin_inset Formula $C=\omega/\kappa=L/T$
\end_inset

 en el sentido positivo del eje 
\begin_inset Formula $x$
\end_inset

.
 En la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Propagación-del-perfil"

\end_inset

 se puede observar una representación de la elevación de la superficie libre
 dada por 
\begin_inset Formula $\eta$
\end_inset

 en función del tiempo 
\begin_inset Formula $t$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_propagacion_lineal_onda.JPG
	width 40page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Propagación-del-perfil"

\end_inset

Altura de la superficie libre en función del tiempo (extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset

).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Oleaje irregular
\end_layout

\begin_layout Standard
En el mar, un registro de una señal de oleaje, dado por ejemplo por un boya,
 es un registro de forma caótica y se denomina Oleaje Irregular (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Señal-de-un"

\end_inset

).
 El oleaje irregular puede ser considerado como la superposición de un gran
 numero de componentes correspondientes a ondas con diferentes periodos,
 alturas y direcciones (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Resultado-de-la"

\end_inset

).
 Este conjunto de ondas forman un 
\shape italic
grupo de ondas 
\shape default
el cual se mueve con una velocidad equivalente a la mitad del promedio de
 las velocidades de sus componentes.
 Análogamente, la energía espectral asociada al oleaje (explicado en el
 siguiente capitulo), no se mueve a la velocidad de la ola en si sino a
 la velocidad del grupo de olas.
 En la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Solapamiento-de-trenes"

\end_inset

 se muestra como 2 
\begin_inset Quotes eld
\end_inset

trenes
\begin_inset Quotes erd
\end_inset

 de olas (lineas punteadas y finas) interfieren formando un 
\shape italic
grupo de ondas 
\shape default
de mayor amplitud (linea gruesa).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_irregular_signal.JPG
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Señal-de-un"

\end_inset

Señal de un oleaje irregular.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_sum_oleaje.JPG
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Resultado-de-la"

\end_inset

Resultado de la suma (o superposición) de distintos oleajes.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_irregular_wave_group.png
	width 25page%
	rotateOrigin center

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Solapamiento-de-trenes"

\end_inset

Solapamiento y grupos de trenes de ondas (extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-19"

\end_inset

)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Matemáticamente
\shape italic
\color blue
 
\shape default
\color inherit
la representación de la superficie libre de este tipo de oleaje puede expresarse
 como (
\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset

)
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\eta(x,y,t)=\overset{\infty}{\underset{m=1}{\sum}}\overset{\infty}{\underset{n=1}{\sum}}A_{mn}\cos(\kappa_{m}\cos\theta_{n}x+\kappa_{m}\sin\theta_{n}y-2\pi f_{m}t+\epsilon_{mn})\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Donde 
\begin_inset Formula $A_{mn}$
\end_inset

y 
\begin_inset Formula $\epsilon_{mn}$
\end_inset

 representan la amplitud y la fase correspondiente a cada una de las componentes
 cuyas frecuencias varían en el rango 
\begin_inset Formula $f_{m}$
\end_inset

 a 
\begin_inset Formula $f_{m}+\Delta f_{m}$
\end_inset

 y el ángulo de incidencia en el rango 
\begin_inset Formula $\alpha_{m}$
\end_inset

 a 
\begin_inset Formula $\alpha_{m}+\Delta\alpha_{m}$
\end_inset

.
 Las variables 
\begin_inset Formula $A_{mn}$
\end_inset

 y 
\begin_inset Formula $\epsilon_{mn}$
\end_inset

 son aleatorias y 
\begin_inset Formula $\kappa_{m}$
\end_inset

 es el numero de onda asociado a la m-ésima onda.
\end_layout

\begin_layout Standard
Esta expresión sirve como base para la definición del 
\shape italic
espectro de energía
\shape default
, el cual se explica en el siguiente capitulo.
\end_layout

\begin_layout Subsection
Análisis del oleaje
\end_layout

\begin_layout Standard
Genéricamente a los movimientos correspondientes a la superficie del mar,
 que son ondas de gravedad, generadas por el viento y que se propagan desde
 el área de generación perdiendo lentamente energía por fricción con la
 atmósfera, viscosidad molecular, y por la gravedad, (hasta alcanzar las
 costas) se lo conoce como Oleaje.
 Una manera simple de modelizar el comportamiento del oleaje es su descomposició
n en una suma de trenes de ondas regulares (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Solapamiento-de-trenes"

\end_inset

) de amplitudes, periodos y direcciones variables.
\end_layout

\begin_layout Standard
La cantidad máxima de energía que puede existir en cada tren de ondas componente
s del oleaje esta regulada por los procesos entre las mismas y los de interacció
n de rotura.
 Para el caso de las olas generadas por acción del viento, se las puede
 clasificar como oleaje totalmente desarrollado (estado de equilibro logrado
 bajo la acción de un viento constante sobre una superficie ilimitada) o
 parcialmente desarrollado (oleaje en crecimiento, sucede cuando el tiempo
 mínimo o distancia mínima para llegar al estado desarrollado no es alcanzada)
\shape italic
\color blue
.
\end_layout

\begin_layout Standard
El análisis del oleaje se puede realizar mediante 2 aproximaciones diferentes:
 a) en el tiempo; b) en frecuencia o análisis espectral.
\end_layout

\begin_layout Standard
En este trabajo se utiliza el análisis en frecuencia (b), el cual tiene
 como objetivo la obtención de la 
\shape italic
función de densidad espectral
\shape default
 o 
\shape italic
espectro del oleaje
\shape default
 (
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Representacion-esquematica-de"

\end_inset

), la cual representa la energía total asociada a cada una de los trenes
 de ondas en que se puede descomponer un registro de oleaje en función de
 la frecuencia y de la dirección de propagación.
 
\end_layout

\begin_layout Standard
El espectro del oleaje contiene gran cantidad de información que puede ser
 representada mediante la introducción de una serie de parámetros que sirven
 para conocer las características principales de dicho espectro, los cuales
 se mencionaran en el siguiente capitulo.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_espectro_esquematico.jpg
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Representacion-esquematica-de"

\end_inset

Representación esquemática de las componentes de un registro de olas (extraído
 de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-6"

\end_inset

).
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Descripcion-espectral-del"

\end_inset

Descripción espectral del oleaje
\end_layout

\begin_layout Subsubsection
Método para la obtención del espectro
\end_layout

\begin_layout Standard
En nuestro caso, es de interés obtener el espectro dado un registro del
 parámetro 
\begin_inset Quotes eld
\end_inset

superficie libre
\begin_inset Quotes erd
\end_inset

 del oleaje.
 Este registro del oleaje viene dado por la función 
\begin_inset Formula $\eta(t)$
\end_inset

, donde nos da la altura de la superficie libre dado el tiempo 
\begin_inset Formula $t$
\end_inset

.
 Si 
\begin_inset Formula $\eta(t)$
\end_inset

 es una función periódica, con periodo 
\begin_inset Formula $T$
\end_inset

 (lo cual es una hipótesis bastante fuerte en el caso de una serie de oleaje),
 puede representarse como una 
\shape italic
\color black
Serie de Fourier 
\shape default
(
\color inherit

\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset


\color black
)
\shape italic
:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\eta(t)=a_{0}+2\overset{\infty}{\underset{k=1}{\sum}}\left(a_{k}\cos\frac{2\pi kt}{T}+b_{k}\sin\frac{2\pi kt}{T}\right)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
donde 
\begin_inset Formula $k=1...\infty$
\end_inset

 es el numero de armónico considerado, y
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
a_{k}=\frac{1}{T}\overset{T}{\underset{0}{\int}}\eta(t)\cos\frac{2\pi kt}{T}dt\qquad k\geq0\label{eq:a0}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
b_{k}=\frac{1}{T}\overset{T}{\underset{0}{\int}}\eta(t)\sin\frac{2\pi kt}{T}dt\qquad k\geq1\label{eq:bk}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
son los 
\shape italic
\color black
Coeficientes de Fourier
\shape default
\color inherit
, funciones continuas de la frecuencia y denominadas las 
\shape italic
\color black
Transformadas de Fourier
\shape default
\color inherit
.
 En el análisis del oleaje 
\begin_inset Formula $a_{0}=valor\; medio$
\end_inset

 se lo considera nulo por comodidad, con lo que la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:a0"

\end_inset

 pasa a ser valida por 
\begin_inset Formula $k\geq1$
\end_inset

, por otro lado 
\begin_inset Formula $T$
\end_inset

 corresponde a la duración del registro entero debiendo ser el 
\begin_inset Formula $m.c.m$
\end_inset

 de los periodos existentes.
\end_layout

\begin_layout Standard
Para realizar un análisis espectral del oleaje se debe realizar el calculo
 de la 
\shape italic
\color black
Transformada Discreta de Fourier
\shape default
\color inherit
, donde los 
\begin_inset Formula $a_{k}$
\end_inset

 y 
\begin_inset Formula $b_{k}$
\end_inset

 (de las 
\shape italic
\color black
ecuaciones
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:a0"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:bk"

\end_inset

 respectivamente) se los puede concentrar en una expresión compleja como:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
X_{k}=a_{k}-i\cdot b_{k}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
con lo cual la Transformada de Fourier pasa a tener la forma
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
X_{k}=\frac{1}{T}\overset{T}{\underset{0}{\int}}\eta(t)e^{-i\frac{2\pi kt}{T}}dt\qquad k\geq0\label{eq:fourier_compleja}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Si ahora la serie temporal es dada por una muestra discreta de datos uniformemen
te espaciados:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\left\{ x_{r}\right\} :r=0,1,2,...,(N-1)\end{equation}

\end_inset


\end_layout

\begin_layout Standard
con 
\begin_inset Formula $t=r\Delta$
\end_inset

, 
\begin_inset Formula $\Delta=T/N$
\end_inset

, y 
\begin_inset Formula $T$
\end_inset

 periodo 
\begin_inset Formula $m.c.m$
\end_inset

 que corresponde con la duración del registro, 
\begin_inset Formula $N$
\end_inset

 tamaño del registro, podemos expresar la 
\shape italic
\color black
Transformada Discreta de Fourier (DFT)
\shape default
\color inherit
 de la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:fourier_compleja"

\end_inset

 como:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
X_{k}=\frac{1}{T}\overset{N-1}{\underset{r=0}{\sum}}x_{r}e^{-i\frac{2\pi kr\Delta}{T}}\Delta;\; k\geq0\qquad o\qquad X_{k}=\frac{1}{N}\overset{N-1}{\underset{r=0}{\sum}}x_{r}e^{-i\frac{2\pi kr}{N}};\; k\geq0\end{equation}

\end_inset


\end_layout

\begin_layout Standard
Podemos entonces calcular el espectro de energía asociado a un registro
 de datos por medio de (
\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
S(f)=\frac{A^{2}}{2\cdot df}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
donde 
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
A=\frac{2\sqrt{Re(X_{k})^{2}+Im(X_{k})^{2}}}{N+1}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
con 
\begin_inset Formula $a_{k}=Re(X_{k})$
\end_inset

, 
\begin_inset Formula $b_{k}=Im(X_{k})$
\end_inset

.
\end_layout

\begin_layout Subsubsection
Parámetros espectrales
\end_layout

\begin_layout Standard
Existen ciertos parámetros que dan a conocer las características principales
 del espectro del oleaje.
 Algunos de estos parámetros aparecen frecuentemente en las funciones de
 distribución asociadas al oleaje.
 A continuación mencionaremos los mas relevantes para el caso de estudio
 presente.
\end_layout

\begin_layout Standard
Se define 
\shape italic
momento de orden n 
\shape default
de la función de densidad espectral como (
\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
m_{n}=\overset{\infty}{\underset{0}{\int}}\omega^{n}S(\omega)d\omega\,\:;n=0,1,2,...\end{equation}

\end_inset

 
\end_layout

\begin_layout Standard
Otro parámetro de utilidad es
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
H_{s}=4.004\eta_{rms}=4.004\sqrt{m_{0}}\end{equation}

\end_inset

 
\end_layout

\begin_layout Standard
donde 
\begin_inset Formula $H_{s}$
\end_inset

 es la altura de ola significante, el cual es el parámetro más importante
 en ingeniería marítima a la hora de clasificar un estado de mar (junto
 con el período de pico 
\begin_inset Formula $Tp=1/f_{p}$
\end_inset

 donde 
\begin_inset Formula $f_{p}$
\end_inset

 es la frecuencia asociada al pico de máxima energía del espectro).
 
\begin_inset Formula $H_{s}$
\end_inset

 se define como la altura media de las 
\begin_inset Formula $N/3$
\end_inset

 mayores olas de un registro de superficie libre compuesto de 
\begin_inset Formula $N$
\end_inset

 olas; 
\begin_inset Formula $m_{0}$
\end_inset

 representa el momento de orden cero y es la integral del espectro.
 Por lo tanto, 
\begin_inset Formula $H_{s}$
\end_inset

 se puede obtener simplemente calculando el espectro de la señal.
\end_layout

\begin_layout Standard
Estos parámetros serán utilizados en los siguientes puntos.
\end_layout

\begin_layout Subsection
Propiedades espectrales del oleaje: espectro de JONSWAP
\end_layout

\begin_layout Standard
La energía espectral alcanza su máximo en la 
\shape italic
frecuencia de pico
\shape default
, 
\begin_inset Formula $\omega=\omega_{p}$
\end_inset

 y decrece tanto hacia las altas como hacia las bajas frecuencias (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Espectro-de-JONSWAP"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_jonswap_ejemplo.jpg
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectro-de-JONSWAP"

\end_inset

Espectro de JONSWAP calculados y medidos (extraído de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-6"

\end_inset

)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En ingeniería marítima se suele representar el contenido energético de la
 señal de oleaje mediante el espectro perimétrico de 
\shape italic
\color black
JONSWAP 
\shape default
\color inherit
(JOint North Sea WAwe Project).
 Este espectro esta basado en una extensa campaña de medidas llevada a cabo
 en el Mar del Norte entre 1968 y 1969, el cual recibió una aprobación casi
 inmediata por parte de la comunidad científica una vez publicado, y es
 quizás el mas utilizado.
 La forma espectral propuesta es (
\begin_inset CommandInset citation
LatexCommand cite
key "key-5"

\end_inset

):
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
S(f)=\alpha H_{s}^{2}T_{p}^{-2}f^{-5}e^{-1.25\left(T_{p}f\right)^{-4}}\gamma^{e^{-\frac{(T_{p}f-1)^{2}}{2\sigma^{2}}}}\label{eq:JONSWAP}\end{equation}

\end_inset

 
\end_layout

\begin_layout Standard
con
\end_layout

\begin_layout Standard
\begin_inset Formula \[
\alpha\cong\frac{0.0624}{0.230+0.0336\gamma-0.185(1.9+\gamma)^{-1}}\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \[
\sigma=\begin{cases}
\sigma_{a}; & f\leq f_{p}\\
\sigma_{b}; & f>f_{p}\end{cases}\quad con\;\sigma_{a}=0.07,\;\sigma_{b}=0.09\]

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Formula \[
\gamma=1\; a\;7\;(media\; de\;3.3)\]

\end_inset


\end_layout

\begin_layout Standard
Como se observa, el espectro de JONSWAP depende de los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

, los cuales son objeto de análisis en este trabajo como se lo detalla en
 el siguiente capitulo.
\end_layout

\begin_layout Subsection

\color black
Aplicaciones en laboratorio
\begin_inset CommandInset label
LatexCommand label
name "sub:Aplicaciones-en-laboratorio"

\end_inset


\end_layout

\begin_layout Standard
Todo el marco teórico anteriormente mencionado se aplicó en este trabajo
 para la detección de la altura de ola en laboratorio y su posterior análisis
 espectral.
\end_layout

\begin_layout Standard
Los oleajes simulados en el canal del laboratorio se generan por medio de
 una pala mecánica la cual toma como parámetros valores de 
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 para formar una serie temporal de oleaje irregular con el espectro de JONSWAP
 
\begin_inset Formula $S(f)$
\end_inset

 asociado a la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:JONSWAP"

\end_inset

 (utilizando 
\begin_inset Formula $\gamma=3.3$
\end_inset

 constante).
\end_layout

\begin_layout Standard
En la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Representacion-esquematica-de-1"

\end_inset

 se puede observar por un lado el espectro 
\begin_inset Quotes eld
\end_inset

teórico
\begin_inset Quotes erd
\end_inset

 generado por la pala mecánica (
\begin_inset Formula $S(f)$
\end_inset

) por medio de los parámetros introducidos por computadora (
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

), y por el otro lado el sensor, el cual mide la altura de ola 
\begin_inset Formula $\eta(t)$
\end_inset

 a lo largo del tiempo.
 En la parte derecha de la figura se observa el espectro de JONSWAP 
\begin_inset Formula $S'(f)$
\end_inset

 calculado por el sensor (en base a los datos obtenidos 
\begin_inset Formula $\eta(t)$
\end_inset

), que en general difiere al espectro 
\begin_inset Quotes eld
\end_inset

teórico
\begin_inset Quotes erd
\end_inset

 debido a varios factores como el caso del desnivel, fricción de la ola
 con los laterales del canal, etc.
 Una vez calculado el espectro, se pueden obtener los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $T_{s}$
\end_inset

, que son el objeto de estudio a la hora de clasificar el estado del oleaje.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_canal_jonswap.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Representacion-esquematica-de-1"

\end_inset

Representación esquemática de la generación del oleaje irregular y medición
 del espectro de JONSWAP en el canal de laboratorio.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En el 
\shape italic
\color black
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Canal-de-labortatorio"

\end_inset

.Canal de laboratorio
\shape default
\color inherit
 se detallaran las características del canal, la pala mecánica y los instrumento
s utilizados para realizar las mediciones.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Detección de la superficie libre en laboratorio
\end_layout

\begin_layout Subsection
Tipo de sensores
\end_layout

\begin_layout Standard
Existen una gran cantidad de instrumentos utilizados para medir la altura
 de la superficie libre del oleaje en laboratorio, cada uno con ventajas
 y desventajas asociadas, donde todos requieren de una buena experiencia
 por parte del usuario para su correcta utilización y en general sus costos
 son elevados.
 Estos se los pueden clasificar como intrusivos o no intrusivos.
\end_layout

\begin_layout Subsubsection
Instrumentos intrusivos
\end_layout

\begin_layout Standard
Son aquellos que se introducen dentro de la zona que contiene el fluido
 a medir, en contacto con el mismo.
 Éstos tienen como desventaja que con el paso del tiempo, al estar en contacto
 con el medio, su durabilidad es menor, y en algunos casos limitan los tipos
 de fluidos que se pueden medir (por ejemplo, instrumentos se estropean
 en agua salada).
 Además, estos sensores son específicos para la medición de variables en
 un cierto rango de escala espacio-temporal, generalmente no pueden medir
 los procesos cerca de los contornos, dependen de la siembra de partículas
 en el fluido, entre otras.
 
\end_layout

\begin_layout Standard
Por otra parte, estos instrumentos pueden brindar una alta frecuencia de
 muestreos con alta precisión.
\end_layout

\begin_layout Standard
Como ejemplo, podemos mencionar el 
\shape italic
\color black
ADV (Acoustic Doppler Velocimeter, Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ADV-(Acoustic-Doppler"

\end_inset


\shape italic
)
\shape default
\color inherit
 que mide velocidades en un volumen de fluido al igual que el 
\shape italic
\color black
Tubo Pitot
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://es.wikipedia.org/wiki/Tubo_Pitot
\end_layout

\end_inset

 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Tubo-Pitot"

\end_inset

), o el sensor de nivel resistivo (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Sensor-resistivo."

\end_inset

) para medir niveles.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_sensor_ADV.JPG
	height 15pheight%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:ADV-(Acoustic-Doppler"

\end_inset

ADV (Acoustic Doppler Velocimeter).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_tubo_pitot.JPG
	height 15pheight%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:Tubo-Pitot"

\end_inset

Tubo Pitot
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_sensor_resistivo.JPG
	height 15pheight%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:Sensor-resistivo."

\end_inset

Sensor de nivel resistivo.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
Instrumentos intrusivos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Instrumentos no intrusivos
\end_layout

\begin_layout Standard
Son aquellos que no necesitan estar sumergidos ni en contacto con en el
 fluido.
 Algunos de estos instrumentos (como es el caso del 
\shape italic
\color black
PIV - Particle Image Velocimeter -
\shape default
\color inherit
 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:PIV-(Particle-Image"

\end_inset

), 
\shape italic
\color black
LDV - Laser Doppler Velocimetry
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Laser_Doppler_velocimetry
\end_layout

\end_inset

-), funcionan por medio de sensores muy delicados como el láser, que en
 general, sin las precauciones adecuadas, puede generar daños a los seres
 humanos o dañar el sensor en si.
 A su vez, dentro de esta rama de instrumentos se encuentra el presentado
 en este trabajo, el cual utiliza técnicas de procesamiento de imágenes
 para detectar la superficie libre.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_sensor_PIV.jpeg
	height 15pheight%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:PIV-(Particle-Image"

\end_inset

PIV (Particle Image Velocimeter).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Técnicas basadas en procesamiento de imágenes
\end_layout

\begin_layout Standard
A diferencia de los instrumentos tradicionales, los cuales son muy costosos
 pero que brindan una elevada precisión de la medición que realizan, las
 técnicas basadas en procesamiento de imágenes (por medio de vídeo cámaras)
 brindan una opción alternativa de bajo costo, que requieren de poca experiencia
 por parte del usuario, no son peligrosos (ya que no pueden generar ningún
 daño físico a personas ni al instrumentos en si), tienen una mayor flexibilidad
 (aplicables a otros tipos de mediciones y a diferentes escalas espacio-temporal
es de los procesos) y en general, su precisión es limitada por la definición
 de la cámara web utilizada, lo que a su vez, a mayor precisión, mayor costo.
 Sin embargo, con una cámara de alta definición estándar puede ser suficiente
 para la aplicaciones ingenieriles de laboratorio, como lo es el fin de
 este trabajo (medir la altura de ola).
\end_layout

\begin_layout Standard
El conjunto de técnicas investigadas en este trabajo como así también el
 trabajo desarrollado se basan en la utilización de cámaras que siguen el
 modelo 
\shape italic
pinhole
\shape default
 o 
\shape italic
pinhole model
\shape default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-7"

\end_inset

, el cual supone que cada punto en el espacio y su correspondiente proyección
 en la imagen están sobre una linea recta que pasa por el centro óptico
 de la imagen (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Representacion-pinhole"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_pinhole_model.png
	lyxscale 50
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Representacion-pinhole"

\end_inset

Representación esquemática del modelo 
\shape italic
\color black
pinhole 
\shape default
\color inherit
(extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-7"

\end_inset

)
\shape italic
\color black
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para lograr obtener resultados adecuados es necesario capturar imágenes
 con la mayor calidad posible, además de una buena resolución, es importante
 tener en cuenta varios factores del entorno donde se realizaran las muestras
 de laboratorio, como por ejemplo, luz ambiental, contraste de la superficie
 libre con respecto al fluido, suciedades en los vidrios laterales del canal,
 entre otras.
 Siempre tendiendo a minimizar la cantidad de ruido (zonas que pueden generar
 contornos que se confundan con la superficie libre, o áreas que puedan
 evitar la correcta captura de la misma).
\end_layout

\begin_layout Standard
Dentro del conjunto de técnicas basadas en procesamiento de imágenes se
 pueden diferenciar aquellas que son en tiempo real y las que no, pero ambas,
 a grandes rasgos siguen un mismo proceso.
 Este proceso, que tiene como entrada una imagen y como salida la detección
 de alguna variable determinada (altura de la superficie libre) podemos
 describirlo, de forma general, como un conjunto de pasos (secuenciales)
 o sub-procesos:
\end_layout

\begin_layout Itemize
Rectificación.
\end_layout

\begin_layout Itemize
Detección de contornos.
\end_layout

\begin_layout Itemize
Análisis y procesamiento.
\end_layout

\begin_layout Standard
Cada uno de estos pasos pueden ser llevados a cabo de distintas maneras
 y utilizando diferentes algoritmos o modelos matemáticos.
 
\end_layout

\begin_layout Standard
Algunas de las técnicas analizadas en este trabajo se pueden encontrar en
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-8"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "key-9"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "key-12"

\end_inset

.
\end_layout

\begin_layout Standard
A continuación se explican en mayor detalle cada uno de los pasos mencionados
 anteriormente.
\end_layout

\begin_layout Subsubsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Rectificacion-de-imagen"

\end_inset

Rectificación
\end_layout

\begin_layout Standard
Para lograr una correcta medición de la altura de ola (u otra variable hidrodiná
mica de interés) es necesario trabajar sobre una imagen libre (o al menos
 con la menor cantidad posible) de errores.
 Podemos diferenciar 2 tipos de errores o problemas: a) aquellos introducidos
 por el dispositivo de captura (cámara de vídeo); b) aquellos relacionados
 con la posición y orientación de la cámara.
\end_layout

\begin_layout Standard
Con respecto a los primeros (a), también llamados distorsiones, podemos
 clasificarlos como radiales (relacionado con la forma del lente de la cámara)
 y tangenciales (provenientes del proceso de ensamblaje de la cámara en
 su totalidad), entre otros (
\begin_inset CommandInset citation
LatexCommand cite
key "key-7"

\end_inset

, 
\begin_inset CommandInset citation
LatexCommand cite
key "key-14"

\end_inset

).
\end_layout

\begin_layout Standard
Por el otro lado (b), el problema de mayor importancia es el de la diferencia
 que existe entre el sistema de coordenadas entre la cámara y el plano sobre
 el cual se quiere realizar las mediciones.
 En la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diferencia-de-perspectiva"

\end_inset

 se muestra como el plano de la zona a analizar (en la figura 
\shape italic
\color black
object plane
\shape default
\color inherit
, que en este trabajo representaría la pared del canal donde se realiza
 la captura de imagen para detectar la altura de la ola), se representa
 dentro de la imagen capturada por el dispositivo (en la figura 
\shape italic
\color black
image plane
\shape default
\color inherit
) con cierta perspectiva.
 Esto es un problema debido a que, como el objeto de estudio es la altura
 de la superficie libre (aunque se aplique en general a cualquier otra variable
 a medir), la altura real de la misma que se observa en el canal se encuentra
 proyectada en la imagen y con una perspectiva diferente a la real, esto
 es, con un sistema de coordenadas diferentes.
 Es por esto que se debe encontrar la relación entre estos 2 sistemas de
 coordenadas (por medio de lo que se denomina 
\begin_inset Quotes eld
\end_inset

transformación de la perspectiva
\begin_inset Quotes erd
\end_inset

, como se explicara mas adelante) para poder determinar la correspondencia
 de cada punto de la imagen a su respectivo punto en la pared del canal.
\end_layout

\begin_layout Standard
En un principio, los problemas introducidos por (a) son de menor importancia
 (debido a que son despreciables en las cámaras nuevas, teniendo en cuenta
 que no se requiere de una altísima precisión) con respecto a los de (b).
 Además, estos últimos, son causados principalmente por la posición en la
 que se coloca la cámara frente a la zona que se quiere medir.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_rectification_2.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diferencia-de-perspectiva"

\end_inset

Diferencia de perspectiva entre la imagen en la cámara (image plane) y el
 plano real (object plane), extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-14"

\end_inset

.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para llevar a cabo la rectificación, se utilizan diferentes métodos, entre
 ellos el modelo de Transformada Lineal Directa (DTL) (
\begin_inset CommandInset citation
LatexCommand cite
key "key-7"

\end_inset

), solución por mínimos cuadrados (
\begin_inset CommandInset citation
LatexCommand cite
key "key-7"

\end_inset

) y métodos alternativos (
\begin_inset CommandInset citation
LatexCommand cite
key "key-10"

\end_inset

).
 
\end_layout

\begin_layout Standard
En este trabajo se planteo utilizar un método de simple implementación (y
 configuración) el cual se basa en transformar la perspectiva de la imagen
 de entrada alineándola a un sistema de coordenadas cartesianas como se
 lo detallara en el 
\shape italic
\color black
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Rectificador"

\end_inset

.
 Rectificador
\shape default
\color inherit
.
\end_layout

\begin_layout Subsubsection
Detección de contornos
\end_layout

\begin_layout Standard
Esta etapa tiene como fin detectar los bordes asociados a la superficie
 libre que se encuentran en la imagen de entrada, minimizando la detección
 de bordes falsos (aquellos que pertenecen al entorno y no a la superficie
 libre en si).
\end_layout

\begin_layout Standard
En una primera instancia, se procede a disminuir la complejidad de la imagen
 reduciendo la cantidad de canales (colores) de la misma, en general, convirtién
dola a una imagen monocromática.
\end_layout

\begin_layout Standard
En segundo lugar, se aplican una serie de filtros (o mascaras) con el fin
 de delimitar la zona que se quiere analizar, evitando procesar zonas que
 no son de interés y a su vez, eliminando posibles errores causados por
 falsos valores (esto es, los bordes falsos mencionados anteriormente).
 
\end_layout

\begin_layout Standard
Por ultimo se realiza la detección de contornos sobre la imagen filtrada
 por medio de algún algoritmo.
 Existen varios métodos utilizados para detectar los bordes, alguno de estos
 se pueden ver en 
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset

.
 En este trabajo se utilizo el algoritmo denominado 
\shape italic
\color black
Canny Edge Detector
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Canny_edge_detector
\end_layout

\end_inset

 (o simplemente 
\shape italic
\color black
Canny
\shape default
\color inherit
), el cual es uno de los algoritmos mas utilizados y que da mejores resultados
 da a la hora de encontrar bordes en una imagen, éste se explicara en mayor
 detalle en el 
\shape italic
\color black
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Canny-edge-detector"

\end_inset

.
 Canny edge detector
\shape default
\color inherit
.
\end_layout

\begin_layout Standard
A modo de ejemplo, observemos la 
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagen-rectificada-sin"

\end_inset

 representando a la imagen de entrada de este sub-proceso (ya rectificada)
 pero sin ningún filtro aplicado, mientras que la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagen-rectificada-luego"

\end_inset

 muestra la imagen de salida (de esta etapa) luego de haberla procesado
 con el algoritmo de detección de contornos (cabe destacar que en este caso
 no se delimito ninguna zona analizar si no que se aplico el algoritmo de
 detección de contornos a toda la imagen de entrada).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_comp_canny1.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Imagen-rectificada-sin"

\end_inset

Imagen rectificada sin filtros (imagen de entrada).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_comp_canny2.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Imagen-rectificada-luego"

\end_inset

Imagen rectificada luego de aplicar el algoritmo de detección de contornos
 (imagen de salida).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Resultado-del-proceso"

\end_inset

Resultado del proceso de detección de contornos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como se puede ver, dependiendo del entorno de trabajo (luz, contraste de
 la superficie libre con respecto al canal, etc), el algoritmo utilizado,
 y los filtros aplicados, la existencia de bordes falsos puede generar mucho
 ruido e introducir errores a la hora de medir la altura de ola.
 Por esto es necesario una etapa posterior que permita discernir los bordes
 que pertenecen a la superficie libre, la cual se menciona a continuación.
\end_layout

\begin_layout Subsubsection
Análisis y procesamiento
\end_layout

\begin_layout Standard
Una vez detectado los bordes de la imagen y en base a los algoritmos utilizados
 en la etapa anterior, se aplica cierta heurística para diferenciar los
 bordes correspondientes a la altura de la superficie libre (
\shape italic
bordes 
\color black
activos
\shape default
\color inherit
), de aquellos que no corresponden a la variable que se quiere analizar
 (lo que se denomina ruido o 
\shape italic
bordes 
\color black
pasivos
\shape default
\color inherit
) como claramente se puede observar en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagen-rectificada-luego"

\end_inset

 anterior.
 La forma en la que se detectan estos 
\shape italic
bordes 
\color black
activos
\color inherit
 
\shape default
no es única y esta fuertemente ligada en como fue modificada la imagen en
 la etapa anterior y/o en la forma de representar los contornos detectados.
 A modo de ejemplo podemos mencionar distintos métodos utilizados, como
 el caso de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-8"

\end_inset

 que utiliza una función de interpolación y filtrado de contornos para eliminar
 puntos (o bordes) falsos.
 Para este trabajo se desarrollo un algoritmo simple con tal finalidad,
 el cual se describe en el 
\shape italic
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Wave-height-analyzer"

\end_inset


\shape default
.
 
\shape italic
\color black
Wave height analyzer.
\end_layout

\begin_layout Standard
Luego de lograr la detección de los 
\shape italic
bordes 
\color black
activos
\shape default
\color inherit
 se procede a obtener la altura en metros (o alguna otra unidad de longitud)
 por medio de la transformación de la relación píxeles/metros (o la unidad
 de longitud correspondiente).
\end_layout

\begin_layout Standard
Podemos decir, en base a los trabajos analizados, que para esta etapa (Análisis
 y procesamiento) no existe algún lineamiento especifico de como llevarla
 a cabo, si no que es la que mas varia (de trabajo en trabajo) y esta sumamente
 relacionada con la forma en que fueron realizadas las etapas anteriores.
\end_layout

\begin_layout Subsection
Técnicas utilizadas
\begin_inset CommandInset label
LatexCommand label
name "sub:Tecnicas-utilizadas"

\end_inset


\end_layout

\begin_layout Standard
En el presente trabajo podemos dividir el proceso general en cuatro sub-procesos
 como lo muestra en el diagrama de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-general-del"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_tecnica_utilizada.png
	lyxscale 80
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagrama-general-del"

\end_inset

Diagrama general del proceso de la técnica utilizada.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como se puede ver, el proceso (rectángulo azul) tiene como entrada una imagen
 que puede provenir de una cámara de vídeo o de un archivo.
 Dentro del proceso general se pueden diferenciar los cuatro subprocesos
 que trabajan de manera secuencial, donde cada uno de estos tiene como entrada
 la imagen procesada por el subproceso inmediatamente anterior.
 Antes de continuar a explicar cada uno de los subprocesos realizaremos
 las siguientes definiciones para una mayor comprensión de lo que se desarrolle.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_eje_trabajo_3d.jpg
	lyxscale 30
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Esquema-3D-del"

\end_inset

Esquema 3D del canal y zona de captura.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_eje_trabajo.png
	lyxscale 20
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Esquema-2D-del"

\end_inset

Esquema 2D del canal y ángulo de captura.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Esquema-del-canal"

\end_inset

Esquema del canal y la zona de interés a analizar.
\begin_inset Note Note
status open

\begin_layout Plain Layout
escribir mas lindo esto
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Basándonos en el esquema presentado en la 
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-del-canal"

\end_inset

 definiremos: 
\end_layout

\begin_layout Itemize

\shape italic
plano de captura:
\shape default
 como el plano formado por los ejes 
\begin_inset Formula $x$
\end_inset

, 
\begin_inset Formula $y$
\end_inset

.
\end_layout

\begin_layout Itemize

\shape italic
zona de captura: 
\shape default
al rectángulo capturado por la vídeo cámara sobre la pared del canal que
 es paralelo al 
\shape italic
plano de captura.
\end_layout

\begin_layout Itemize

\shape italic
ángulo de captura:
\shape default
 El ángulo de rotación de la cámara con respecto al 
\shape italic
plano de captura
\shape default
 (en el diagrama de la 
\shape italic
Figura
\shape default
 
\shape italic

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-2D-del"

\end_inset


\shape default
, el ángulo 
\begin_inset Formula $\theta$
\end_inset


\shape italic
 ).
\end_layout

\begin_layout Standard
Podemos observar que no se realizo distinción del ángulo de la cámara sobre
 el eje 
\begin_inset Formula $y$
\end_inset

 con respecto a la zona de captura, el cual llamaremos ángulo 
\begin_inset Formula $\beta$
\end_inset

.
 Esto debido a que como se verá mas adelante, no tiene tiene la misma importanci
a que el ángulo de captura 
\begin_inset Formula $\theta$
\end_inset

.
\end_layout

\begin_layout Standard
Definiremos además a una imagen 
\begin_inset Formula $I_{mn}$
\end_inset

 como una matriz de valores numéricos enteros tal que 
\begin_inset Formula $a_{ij}\in I_{mn}$
\end_inset

 es el píxel (valor numérico) que se encuentra en la i-ésima fila y j-ésima
 columna (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Matriz-de-pixels"

\end_inset

), tales que 
\begin_inset Formula $0\leq i<m$
\end_inset

 y 
\begin_inset Formula $0\leq j<n$
\end_inset

.
 Definiremos también a 
\begin_inset Formula $I_{*k}$
\end_inset

 a la columna (de píxeles) k-ésima de la imagen 
\begin_inset Formula $I_{mn}$
\end_inset

 tal que 
\begin_inset Formula $0\leq k<n$
\end_inset

 y análogamente para las filas de píxeles 
\begin_inset Formula $I_{l*}$
\end_inset

.
 Dada una imagen 
\begin_inset Formula $I_{mn}$
\end_inset

, 
\begin_inset Formula $a_{00}\in I_{mn}$
\end_inset

 corresponde al píxel superior izquierdo de la imagen mientras que el píxel
 
\begin_inset Formula $a_{mn}\in I_{mn}$
\end_inset

 al inferior derecho.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_ref_img_matrix.png
	width 25page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Matriz-de-pixels"

\end_inset

Matriz de píxeles representando una imagen donde cada píxel contiene un
 valor numérico indicando su color (o escala de grises).
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
A continuación mencionaremos las características principales y finalidad
 de cada uno de los subprocesos (mostrados en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-general-del"

\end_inset

) utilizados en este trabajo para capturar la altura de la superficie libre.
\end_layout

\begin_layout Subsubsection

\series bold
\begin_inset CommandInset label
LatexCommand label
name "sub:Rectificador"

\end_inset

Rectificador
\end_layout

\begin_layout Standard
Este subproceso se basa en 2 grupos de 4 puntos (bidimensionales) correspondient
es a los puntos de origen y de destino (de la imagen de entrada y salida
 respectivamente).
 Los primeros están asociados a la 
\shape italic
zona de trabajo
\shape default
 que se quiere analizar (la cual debe ser un rectángulo contenido dentro
 de la 
\shape italic
zona de captura 
\shape default
- 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\shape italic

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-3D-del"

\end_inset


\shape default
 - con base alineada al eje 
\begin_inset Formula $x$
\end_inset

).
 Mientras que el segundo grupo esta relacionado con el tamaño de la imagen
 capturada por el dispositivo en si (el tamaño del frame/imagen con el que
 se trabaja).
 El primer grupo de puntos necesita ser especificado por el usuario mientras
 que el segundo se asigna de manera automática.
 
\end_layout

\begin_layout Standard
Debido a que la cámara se encuentra con un 
\shape italic
ángulo de captura
\shape default
 
\begin_inset Formula $\theta\neq0$
\end_inset

 (
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-2D-del"

\end_inset

), la 
\shape italic
\color black
zona de trabajo
\shape default
\color inherit
 se encuentra proyectada en la imagen tomada por el dispositivo con cierta
 perspectiva (como se explico en el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Rectificacion-de-imagen"

\end_inset

 
\shape italic
\color black
Rectificación
\shape default
\color inherit
.), esto es, el sistema de coordenadas de la imagen en el dispositivo se
 encuentra rotado 
\begin_inset Formula $-\theta$
\end_inset

 grados sobre el eje 
\begin_inset Formula $x$
\end_inset

.
 Por otro lado y como se menciono anteriormente, existe también el ángulo
 de rotación 
\begin_inset Formula $\beta$
\end_inset

, el cual produce el mismo efecto sobre el sistema de coordenadas de la
 imagen capturada.
 
\end_layout

\begin_layout Standard
Para solucionar esto, y gracias a que la 
\shape italic
zona de captura
\shape default
 es paralela al 
\shape italic
plano de captura
\shape default
, se genera una matriz de transformación de perspectiva por medio de los
 8 puntos mencionados anteriormente, la cual mapea cada píxel de la imagen
 origen a su nueva posición en la imagen destino (solventando el desfasaje
 de los distintos sistemas de coordenadas como se puede observar en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diferencia-de-perspectiva"

\end_inset

).
\end_layout

\begin_layout Standard
De esta manera se soluciona el error de la perspectiva y al mismo tiempo
 se eliminan las zonas (a grandes rasgos) que no pertenecen al área de interés.
 Además de que es una método sencillo y fácil de configurar por parte del
 usuario.
\end_layout

\begin_layout Standard
En el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Perspective-transform"

\end_inset

.
\shape italic
\color black
Perspective transform
\shape default
\color inherit
 se realiza un desarrollo mas profundo sobre el algoritmo que permite realizar
 esta rectificación.
\end_layout

\begin_layout Subsubsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Recortador"

\end_inset

Recortador
\end_layout

\begin_layout Standard
Este proceso realiza un recorte aún mayor sobre la imagen de entrada descartando
 aquellas zonas que no son de interés, con el fin de agilizar el procesamiento
 de los posteriores sub-procesos.
 Se basa en los siguientes parámetros:
\end_layout

\begin_layout Standard
1) 
\begin_inset Formula $i$
\end_inset

: Es el numero de columna 
\begin_inset Formula $I_{*i}$
\end_inset

 (columna de píxeles) de la imagen de entrada 
\begin_inset Formula $I_{mn}$
\end_inset

 a la cual se quiere analizar la altura de la superficie libre (
\begin_inset Formula $0\leq i<n$
\end_inset

).
\end_layout

\begin_layout Standard
2) 
\begin_inset Formula $c$
\end_inset

: Cantidad de columnas a analizar, donde éstas son las 
\begin_inset Formula $I_{*j}$
\end_inset

 con 
\begin_inset Formula $j=i-\frac{c}{2},...,i+\frac{c}{2}$
\end_inset

, 
\begin_inset Formula $c>0$
\end_inset

.
\end_layout

\begin_layout Standard
Dada la imagen de entrada 
\begin_inset Formula $I_{mn}$
\end_inset

 este proceso la transforma a una imagen 
\begin_inset Formula $I'_{mc}$
\end_inset

 (de salida) reduciéndola su numero de columnas a 
\begin_inset Formula $c$
\end_inset

.
\end_layout

\begin_layout Standard
La existencia de este simple proceso se debe a que en este trabajo necesitamos
 detectar la altura de la superficie libre (y por ende realizar todo el
 proceso) en tiempo real.
 Por otro lado, solo es necesario capturar la altura de la misma en un punto
 determinado (una columna de píxeles, dada por el parámetro 
\begin_inset Formula $i$
\end_inset

), aunque esta única columna no alcanza debido a que podría no detectarse
 el contorno de la superficie de forma correcta dando lugar a cálculos erróneos
 y un sistema muy propenso a fallas (por tal motivo se utiliza el parámetro
 
\begin_inset Formula $c>0$
\end_inset

).
 Como ultimo, simplifica las configuraciones de los posteriores subprocesos,
 evitando tener que configurar en cada uno de estos la zona de análisis,
 tomando directamente toda la imagen ya recortada.
\end_layout

\begin_layout Subsubsection

\series bold
Detector de bordes
\end_layout

\begin_layout Standard
Su objetivo es detectar los bordes, eliminando en lo posible la mayor cantidad
 de ruido, pero no de discernir entre 
\shape italic
bordes activos
\shape default
 y 
\shape italic
bordes 
\color black
pasivos
\shape default
\color inherit
.
 Podemos distinguir una secuencia de acciones realizadas por este proceso.
 Estas son:
\end_layout

\begin_layout Enumerate
Se convierte la imagen de entrada 
\begin_inset Formula $I_{mn}$
\end_inset

 (en general color) en una imagen en blanco y negro, por medio de un simple
 filtro de imagen, el cual se aplica a cada 
\begin_inset Formula $a_{ij}\in I_{mn}$
\end_inset

 modificando solo su valor.
\end_layout

\begin_layout Enumerate
Se le aplica un segundo filtro denominado 
\shape italic
Gaussian Blur
\begin_inset Foot
status open

\begin_layout Plain Layout

\shape italic
http://en.wikipedia.org/wiki/Gaussian_blur
\end_layout

\end_inset


\shape default
 con el fin de 
\begin_inset Quotes eld
\end_inset

suavizar
\begin_inset Quotes erd
\end_inset

 la imagen suprimiendo la mayor cantidad posible de ruido (como puntos aislados
 debido a partículas sobre la pared del canal) para una mayor diferenciación
 de los bordes reales.
 El funcionamiento de este algoritmo se explicara en el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Gaussian-Blur"

\end_inset

 
\shape italic
\color black
Gaussian Blur
\shape default
\color inherit
.
\end_layout

\begin_layout Enumerate
Por ultimo se corre el algoritmo conocido por el nombre 
\shape italic
Canny Edge Detector 
\shape default
(detallado en el 
\shape italic
capitulo
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Canny-edge-detector"

\end_inset

) utilizado para detectar los bordes en la imagen basado en ciertos parámetros
 previamente configurados por el usuario que serán mencionados posteriormente
 junto con los detalles del funcionamiento del algoritmo.
\end_layout

\begin_layout Standard
Al finalizar esta secuencia de pasos, podemos asumir que la imagen 
\begin_inset Formula $I'_{mn}$
\end_inset

 de salida, cumple lo siguiente:
\end_layout

\begin_layout Standard
\begin_inset Formula \[
\forall a_{ij}\in I'_{mn}:\begin{cases}
a_{ij}=1 & si\; a_{ij}\: pertenece\: a\: un\: contorno\\
a_{ij}=0 & caso\: contrario.\end{cases}\]

\end_inset


\end_layout

\begin_layout Standard
Dicho de otra manera, la imagen de salida 
\begin_inset Formula $I'_{mn}$
\end_inset

 pasa a ser una matriz de valores booleanos donde los 
\begin_inset Formula $a_{ij}$
\end_inset

 perteneciente a la misma contienen el valor verdadero si y solo si forman
 parte de un contorno o falso en el caso contrario.
\end_layout

\begin_layout Standard
Este subproceso junto con la captura de imágenes desde el dispositivo son
 los que ocupan casi la totalidad del tiempo de procesamiento.
 
\end_layout

\begin_layout Standard
En este trabajo se opto por la utilización de este algoritmo (
\shape italic
Canny
\shape default
) debido a que es uno de los mas utilizados en el área de 
\begin_inset Quotes eld
\end_inset


\shape italic
computer vision
\shape default

\begin_inset Quotes erd
\end_inset

 y además la librería con la que se trabajo proveía de una implementación
 del mismo.
 Aún así, al ser el proceso general una secuencia de subprocesos independientes
 (cada uno con respecto a los otros), cambiar de algoritmo solo debería
 implicar la modificación de este único subproceso (o modulo).
\end_layout

\begin_layout Subsubsection
Analizador
\end_layout

\begin_layout Standard
Dada la imagen 
\begin_inset Formula $I_{mn}$
\end_inset

 (de entrada) preprocesada por el algoritmo de detección de contornos, este
 proceso tiene como fin decidir cuales de éstos 
\begin_inset Formula $a_{ij}\in I_{mn}$
\end_inset

 marcados como verdaderos (recordando que son verdaderos si y solo si pertenecen
 a un contorno detectado) son 
\shape italic
bordes 
\color black
activos
\color inherit
 
\shape default
y cuales son 
\shape italic
bordes 
\color black
pasivos
\shape default
\color inherit
.
 Para lograrlo se basa en un simple algoritmo implementado en este trabajo
 el cual se explica en el 
\shape italic
\color black
capitulo 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Wave-height-analyzer"

\end_inset

 
\shape italic
\color black
Wave height analyzer
\shape default
\color inherit
.
 y una serie de parámetros que sirven de base como configuración inicial
 (suministrados por el usuario).
 
\end_layout

\begin_layout Standard
Una vez detectado los 
\shape italic
bordes 
\color black
activos
\shape default
\color inherit
, se realiza una conversión de unidades, pasando de 
\begin_inset Quotes eld
\end_inset

altura de superficie libre en píxeles
\begin_inset Quotes erd
\end_inset

 a 
\begin_inset Quotes eld
\end_inset

altura de superficie libre en metros
\begin_inset Quotes erd
\end_inset

, por medio de uno de los parámetros de configuración que establece la relación
 de equivalencia entre píxeles y metros.
\end_layout

\begin_layout Standard
A diferencia de las otras etapas, ésta tiene como salida un valor numérico
 (y no una imagen), que es la salida del proceso completo, esto es, la altura
 de la superficie libre detectada y convertida en metros.
\end_layout

\begin_layout Subsubsection
Proceso completo
\end_layout

\begin_layout Standard
En la 
\shape italic
Figura
\shape default
 
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagenes-resultantes-en"

\end_inset


\color inherit
 se muestran las imágenes resultantes de cada uno de los procesos mencionados
 anteriormente 
\color black
(diagramados en la 
\shape italic
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagrama-general-del"

\end_inset

).
\end_layout

\begin_layout Standard
En una primera instancia, tenemos la imagen de entrada sin ningún tipo de
 transformación (obtenida directamente de la cámara de vídeo o un archivo),
 ésta es procesada por el 
\shape italic
\color black
Rectificador
\shape default
\color inherit
 dando lugar a la segunda imagen, la cual solo contiene la zona seleccionada
 por el usuario (el rectángulo de trabajo mencionado en el 
\shape italic
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Rectificador"

\end_inset

.
 Rectificador.
\shape default
).
 Ésta imagen resultante es la entrada del proceso denominado 
\shape italic
Recortador
\shape default
, el cual descarta fragmentos de la misma generando una con menor cantidad
 de columnas (en este caso en particular se uso el parámetro 
\begin_inset Formula $c$
\end_inset

 anteriormente mencionado con un valor de 
\begin_inset Formula $201$
\end_inset

 con el fin de poder obtener una imagen de mayor tamaño como resultado,
 lo que no es practico y en general se utilizan valores entre 
\begin_inset Formula $5\leq c\leq15$
\end_inset

).
 El siguiente proceso involucrado es el 
\shape italic
Detector de bordes
\shape default
, encargado de localizar los contornos en la imagen de entrada (por medio
 del algoritmo 
\shape italic
Canny)
\shape default
 dando lugar a una nueva imagen en la que solo se aprecian bordes.
 Se puede observar que existe gran cantidad de ruido (
\shape italic
bordes falsos
\shape default
) por encima y por debajo de la superficie libre, lo que varia mucho dependiendo
 de varios factores como la luz utilizada, suciedad en las paredes del canal,
 parámetros utilizados en el algoritmo de 
\shape italic
Canny
\shape default
 (umbrales de 
\begin_inset Quotes eld
\end_inset

sensibilidad
\begin_inset Quotes erd
\end_inset

 a la detección de contornos), entre otros.
 Por ultimo se encuentra el 
\shape italic
Analizador
\shape default
, el cual tiene como finalidad detectar la altura de ola en la imagen de
 contornos procesada anteriormente.
 Como mencionamos en el capitulo anterior, este proceso tiene como salida
 un valor numérico el cual se lo representa por medio de la ultima imagen
 en la que se resalta (en rojo) la altura de ola detectada.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_proc_completo.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Imagenes-resultantes-en"

\end_inset

Imágenes resultantes en cada etapa del proceso de la técnica utilizada.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Algoritmos involucrados
\end_layout

\begin_layout Subsection
Introducción
\end_layout

\begin_layout Standard
En esta sección describiremos las bases matemáticas de los algoritmos utilizados
 en este trabajo a lo largo del proceso de la detección de la superficie
 libre.
 Se mencionaran en el orden en el que son aplicados sobre la imagen de entrada
 
\begin_inset Formula $I_{mn}$
\end_inset

 del proceso, proveniente ya sea del dispositivo (webcam) o de un archivo
 de vídeo.
\end_layout

\begin_layout Standard
Los algoritmos utilizados para la rectificación de la imagen y el análisis
 de los contornos (
\shape italic
\color black
capítulos 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Perspective-transform"

\end_inset

 Perspective transform.

\shape default
\color inherit
 y 
\shape italic
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Wave-height-analyzer"

\end_inset

 Wave height analyzer
\shape default
\color inherit
 respectivamente) no poseen nombres concretos por lo que se decidió asignarles
 uno con el fin de facilitar su identificación en los capítulos siguientes.
 En particular, este ultimo (
\shape italic
\color black
Wave height analyzer
\shape default
\color inherit
) fue completamente desarrollado para este trabajo.
\end_layout

\begin_layout Subsection
Perspective transform
\begin_inset CommandInset label
LatexCommand label
name "sub:Perspective-transform"

\end_inset


\end_layout

\begin_layout Standard
Este algoritmo es utilizado para la rectificación de la imagen al comienzo
 del proceso.
\end_layout

\begin_layout Standard
Se basa en una transformación de perspectiva (por medio de una matriz de
 transformación 
\begin_inset Formula $T$
\end_inset

 
\begin_inset CommandInset citation
LatexCommand cite
key "key-15"

\end_inset

) sobre la imagen de entrada 
\begin_inset Formula $I_{mn}$
\end_inset

 dando como resultado una imagen 
\begin_inset Formula $I'_{mn}$
\end_inset

 donde cada píxel 
\begin_inset Formula $a'_{i'j'}\in I'_{mn}$
\end_inset

 puede ser expresado en términos del punto original 
\begin_inset Formula $a_{ij}\in I_{mn}$
\end_inset

, utilizando coordenadas homogéneas 
\begin_inset CommandInset citation
LatexCommand cite
key "key-13"

\end_inset

 de forma tal que las coordenadas origen 
\begin_inset Formula $(i,j,1)$
\end_inset

 pasen a ser las coordenadas destinos 
\begin_inset Formula $(i',j',w)$
\end_inset

 para algún 
\begin_inset Formula $w$
\end_inset

:
\end_layout

\begin_layout Standard
\begin_inset Formula \[
\begin{cases}
i'=\frac{m_{00}i+m_{01}j+m_{02}}{m_{20}i+m_{21}j+m_{22}}\\
j'=\frac{m_{10}i+m_{11}j+m_{12}}{m_{20}i+m_{21}j+m_{22}}\end{cases}\]

\end_inset


\end_layout

\begin_layout Standard
donde 
\end_layout

\begin_layout Standard
\begin_inset Formula \[
T=\left(\begin{array}{ccc}
m_{00} & m_{01} & m_{02}\\
m_{10} & m_{11} & m_{12}\\
m_{20} & m_{21} & m_{22}\end{array}\right)\]

\end_inset


\end_layout

\begin_layout Standard
es la matriz de transformación y con 
\begin_inset Formula $m_{22}=1$
\end_inset

, entonces podemos expresar
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
\left(\begin{array}{c}
i'\\
j'\\
w\end{array}\right)=\left(\begin{array}{ccc}
m_{00} & m_{01} & m_{02}\\
m_{10} & m_{11} & m_{12}\\
m_{20} & m_{21} & m_{22}\end{array}\right)\left(\begin{array}{c}
i\\
j\\
1\end{array}\right)=\left(\begin{array}{c}
m_{00}i+m_{01}j+m_{02}\\
m_{10}i+m_{11}j+m_{12}\\
m_{20}i+m_{21}j+m_{22}\end{array}\right)\label{eq:multiplicacion}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
y cada uno de los 
\begin_inset Formula $m_{ab}$
\end_inset

 se calculan en base a los 8 puntos bidimensionales de configuración, 4
 de origen (llamémoslos 
\begin_inset Formula $p_{o_{k}}:k=1,..,4$
\end_inset

), con sus 4 puntos de destino correspondientes (
\begin_inset Formula $p_{d_{k}}:k=1,..,4$
\end_inset

) resolviendo el siguiente sistema lineal de ecuaciones 
\end_layout

\begin_layout Standard

\size small
\begin_inset Formula \[
\left(\begin{array}{cccccccc}
p_{o_{1}}.x & p_{o_{1}}.y & 1 & 0 & 0 & 0 & -p_{o_{1}}.x*p_{d_{1}}.x & -p_{o_{1}}.y*p_{d_{1}}.x\\
p_{o_{2}}.x & p_{o_{2}}.y & 1 & 0 & 0 & 0 & -p_{o_{2}}.x*p_{d_{2}}.x & -p_{o_{2}}.y*p_{d_{2}}.x\\
p_{o_{3}}.x & p_{o_{3}}.y & 1 & 0 & 0 & 0 & -p_{o_{3}}.x*p_{d_{3}}.x & -p_{o_{3}}.y*p_{d_{3}}.x\\
p_{o_{4}}.x & p_{o_{4}}.y & 1 & 0 & 0 & 0 & -p_{o_{4}}.x*p_{d_{4}}.x & -p_{o_{4}}.y*p_{d_{4}}.x\\
0 & 0 & 0 & p_{o_{1}}.x & p_{o_{1}}.y & 1 & -p_{o_{1}}.x*p_{d_{1}}.y & -p_{o_{1}}.y*p_{d_{1}}.y\\
0 & 0 & 0 & p_{o_{2}}.x & p_{o_{2}}.y & 1 & -p_{o_{2}}.x*p_{d_{2}}.y & -p_{o_{2}}.y*p_{d_{2}}.y\\
0 & 0 & 0 & p_{o_{3}}.x & p_{o_{3}}.y & 1 & -p_{o_{3}}.x*p_{d_{3}}.y & -p_{o_{3}}.y*p_{d_{3}}.y\\
0 & 0 & 0 & p_{o_{4}}.x & p_{o_{4}}.y & 1 & -p_{o_{4}}.x*p_{d_{4}}.y & -p_{o_{4}}.y*p_{d_{4}}.y\end{array}\right)*\left(\begin{array}{c}
m_{00}\\
m_{01}\\
m_{02}\\
m_{10}\\
m_{11}\\
m_{12}\\
m_{20}\\
m_{21}\end{array}\right)=\left(\begin{array}{c}
p_{d_{1}}.x\\
p_{d_{2}}.x\\
p_{d_{3}}.x\\
p_{d_{4}}.x\\
p_{d_{1}}.y\\
p_{d_{2}}.y\\
p_{d_{3}}.y\\
p_{d_{4}}.y\end{array}\right)\]

\end_inset


\end_layout

\begin_layout Standard
Con todo esto, el algoritmo simplemente se puede describir como sigue:
\end_layout

\begin_layout Enumerate
Establecidos los 8 puntos de configuración (
\begin_inset Formula $p_{o_{k}},p_{d_{k}}:k=1,..,4$
\end_inset

), se construye la matriz de transformación de perspectiva 
\begin_inset Formula $T$
\end_inset

.
\end_layout

\begin_layout Enumerate
Para cada píxel 
\begin_inset Formula $a_{ij}\in I_{mn}$
\end_inset

 se obtiene su nueva posición en la imagen de salida 
\begin_inset Formula $I'_{mn}$
\end_inset

utilizando la matriz 
\begin_inset Formula $T$
\end_inset

 como se muestra en la 
\shape italic
ecuación 
\shape default

\begin_inset CommandInset ref
LatexCommand ref
reference "eq:multiplicacion"

\end_inset

 copiándose el valor del píxel (
\begin_inset Formula $a'_{i'j'}=a_{ij}$
\end_inset

).
\end_layout

\begin_layout Standard
Notar que asumimos que los valores 
\begin_inset Formula $i'$
\end_inset

, 
\begin_inset Formula $j'$
\end_inset

 obtenidos luego de multiplicar la matriz de transformación sobre el punto
 de origen (valores 
\begin_inset Formula $i$
\end_inset

, 
\begin_inset Formula $j$
\end_inset

), caen dentro de una imagen de igual tamaño, esto es 
\begin_inset Formula $0\leq i,i'<m$
\end_inset

 y 
\begin_inset Formula $0\leq j,j'<n$
\end_inset

, en caso de no cumplirse esta condición, los píxeles son automáticamente
 descartados.
\end_layout

\begin_layout Subsection
Gaussian Blur
\begin_inset CommandInset label
LatexCommand label
name "sub:Gaussian-Blur"

\end_inset


\end_layout

\begin_layout Standard
Este algoritmo, también conocido como 
\shape italic
Gaussian smoothing
\shape default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-16"

\end_inset

, tiene como finalidad disminuir la amplitud de las variaciones de la imagen
 (ruidos), especialmente utilizado en la fase previa a los algoritmos que
 detectan bordes o contornos.
\end_layout

\begin_layout Standard
Para comprender mejor el funcionamiento del algoritmo expliquemos algunos
 conceptos utilizados:
\end_layout

\begin_layout Itemize

\shape italic
Kernel
\shape default
 o 
\shape italic
Mask
\shape default
: Usualmente una matriz de números (
\color black
a derecha en 
\shape italic
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Representacion-de-una"

\end_inset

) usada en lo que se denomina 
\begin_inset Quotes eld
\end_inset


\shape italic
image convolution
\shape default

\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Itemize

\shape italic
Convolution
\shape default
: Es una simple operación matemática
\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Convolution
\end_layout

\end_inset

 que provee una forma de multiplicar entre si 2 arrays de números, generalmente
 de diferentes tamaños pero de igual tipo numérico produciendo un tercer
 array (resultado) de números del mismo tipo.
 En éste caso (procesamiento de imágenes), los arrays numéricos multiplicados
 son por un lado la imagen 
\begin_inset Formula $I_{mn}$
\end_inset

 (que puede verse como un array numérico bidimensional, a izquierda en la
 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Representacion-de-una"

\end_inset

) y por el otro lado la matriz 
\shape italic
kernel
\shape default
, dando como resultado, la imagen con el suavizado aplicado.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_convolution_kernel.png
	width 30page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Representacion-de-una"

\end_inset

Representación de una imagen (a izquierda) y un 
\shape italic
kernel
\shape default
 (a derecha).
 Extraída de 
\begin_inset CommandInset citation
LatexCommand cite
key "key-16"

\end_inset

.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
La 
\shape italic
convolución 
\shape default
es realizada deslizando el 
\shape italic
\color black
kernel
\shape default
\color inherit
 (empezando generalmente por arriba a la izquierda) sobre todos los píxeles
 de la imagen de forma tal que la matriz 
\shape italic
\color black
kernel
\shape default
\color inherit
 entre completamente dentro de los limites de la misma, devolviendo en cada
 posición (que se desliza el 
\shape italic
\color black
kernel
\shape default
\color inherit
) un único valor correspondiente.
 A modo de ejemplo, en el caso del ultimo píxel (abajo a la derecha) el
 resultado de la operación seria 
\begin_inset Formula $O_{57}=I_{57}K_{11}+I_{58}K_{12}+I_{59}K_{13}+I_{67}K_{21}+I_{68}K_{22}+I_{69}K_{23}$
\end_inset

, donde 
\begin_inset Formula $O_{57}$
\end_inset

 es el resultado de esta operación.
 Notemos que si la imagen de entrada tiene 
\begin_inset Formula $M$
\end_inset

 filas y 
\begin_inset Formula $N$
\end_inset

 columnas, y el kernel tiene 
\begin_inset Formula $m$
\end_inset

 filas y 
\begin_inset Formula $n$
\end_inset

 columnas, entonces el tamaño de la imagen de salida tendrá 
\begin_inset Formula $M-m+1$
\end_inset

 filas y 
\begin_inset Formula $N-n+1$
\end_inset

 columnas.
\end_layout

\begin_layout Standard

\shape italic
Distribución gaussiana 1D:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
G(x)=\frac{1}{\sqrt{2\pi\sigma^{2}}}e^{-\frac{x^{2}}{2\sigma^{2}}}\label{eq:dist_gaus_1d}\end{equation}

\end_inset


\end_layout

\begin_layout Standard

\shape italic
Distribución gaussiana 2D:
\end_layout

\begin_layout Standard
\begin_inset Formula \begin{equation}
G(x,y)=\frac{1}{2\pi\sigma^{2}}e^{-\frac{x^{2}+y^{2}}{2\sigma^{2}}}\label{eq:dist_gaus_2d}\end{equation}

\end_inset


\end_layout

\begin_layout Standard
donde 
\begin_inset Formula $\sigma$
\end_inset

 es la desviación estándar de la distribución gaussiana.
\end_layout

\begin_layout Standard
La idea es usar esta distribución 2D (
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:dist_gaus_2d"

\end_inset

) como una función del tipo 
\begin_inset Quotes eld
\end_inset

punto de propagación
\begin_inset Quotes erd
\end_inset

, por medio de la 
\shape italic
convolución
\shape default
.
 Dicho en otras palabras, armar la matriz kernel utilizando la 
\shape italic
distribución gaussiana 2D
\shape default
 para luego aplicar la 
\shape italic
convolución
\shape default
 y obtener la imagen resultante
\shape italic
.
\end_layout

\begin_layout Standard
Por temas de eficiencia en general, y gracias a que la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:dist_gaus_2d"

\end_inset

 puede separarse en las componentes 
\begin_inset Formula $x$
\end_inset

 e 
\begin_inset Formula $y$
\end_inset

 (dándonos como resultado 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:dist_gaus_1d"

\end_inset

), podemos aplicar la 
\shape italic
convolución 
\shape default
primero en la dirección 
\begin_inset Formula $x$
\end_inset

 y luego en la dirección 
\begin_inset Formula $y$
\end_inset

 por medio de la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:dist_gaus_1d"

\end_inset

, obteniendo el mismo resultado que habiendo aplicado 
\shape italic
convolución
\shape default
 con la 
\shape italic
\color black
ecuación
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "eq:dist_gaus_2d"

\end_inset

.
\end_layout

\begin_layout Standard
Este algoritmo da como resultado (en cada corrida de la 
\shape italic
convolución
\shape default
) un promedio ponderado de cada píxel vecino, con la media ponderada mas
 hacia el valor de los píxeles centrales.
 Utiliza además ciertos parámetros que determinan el tamaño de la 
\shape italic
\color black
kernel
\shape default
\color inherit
 y el 
\begin_inset Formula $\sigma$
\end_inset

 utilizado.
\end_layout

\begin_layout Standard
A modo de ejemplo, se muestran dos imágenes en la 
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagen-comparativa-de"

\end_inset

, a izquierda la imagen original antes de aplicarse el filtro y a derecha
 luego de haber aplicado el 
\shape italic
\color black
Gaussian blur
\shape default
\color inherit
.
 Para este ejemplo se utilizo un 
\shape italic
\color black
kernel
\shape default
\color inherit
 de tamaño 7x7 y un 
\begin_inset Formula $\sigma=2$
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_gaussian_filter.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Imagen-comparativa-de"

\end_inset

Imagen comparativa de antes (a izquierda) y luego (a derecha) de aplicar
 el filtro 
\shape italic
Gaussian Blur
\shape default
 con un tamaño de 
\shape italic
\color black
kernel
\shape default
\color inherit
 7x7 y 
\begin_inset Formula $\sigma=2$
\end_inset

.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Canny Edge Detector
\begin_inset CommandInset label
LatexCommand label
name "sub:Canny-edge-detector"

\end_inset


\end_layout

\begin_layout Standard
Este algoritmo fue desarrollado por 
\shape italic
John F.
 Canny
\begin_inset Foot
status open

\begin_layout Plain Layout

\shape italic
http://www.eecs.berkeley.edu/Faculty/Homepages/canny.html
\end_layout

\end_inset


\shape default
 en 1986, tiene como finalidad detectar los bordes en una imagen, filtrando
 todo aquello que no pertenezca a un contorno.
 El algoritmo se lo puede dividir en una serie de pasos:
\end_layout

\begin_layout Enumerate

\series bold
Smoothing
\series default
: Suavizar la imagen para remover el ruido utilizando el filtro gaussiano
 anteriormente mencionado con parámetro 
\begin_inset Formula $\sigma=1.4$
\end_inset

 y un kernel de tamaño 5x5.
\end_layout

\begin_layout Enumerate

\series bold
Finding gradients
\series default
: Los bordes deben ser marcados donde los gradientes de la imagen tengan
 magnitudes grandes por medio de alguno de los 
\begin_inset Quotes eld
\end_inset

operadores de gradiente
\begin_inset Quotes erd
\end_inset

 (como 
\shape italic
Roberts
\shape default

\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Roberts_Cross
\end_layout

\end_inset

, 
\shape italic
Sobel
\shape default

\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Sobel_operator
\end_layout

\end_inset

 - el cual es el utilizado en este trabajo -, 
\shape italic
Prewitt
\begin_inset Foot
status open

\begin_layout Plain Layout

\shape italic
http://en.wikipedia.org/wiki/Prewitt_operator
\end_layout

\end_inset


\shape default
).
 Estos operadores devuelven el valor de la derivada primera en la dirección
 horizontal 
\begin_inset Formula $G_{x}$
\end_inset

 y vertical 
\begin_inset Formula $G_{y}$
\end_inset

, los cuales sirven para determinar la magnitud del gradiente 
\begin_inset Formula $G$
\end_inset

 (o también conocidos como 
\shape italic
\color black
edge strengths
\shape default
\color inherit
) y dirección 
\begin_inset Formula $\Theta$
\end_inset

 asociados a cada uno de los píxeles de la imagen, donde 
\begin_inset Formula \[
G=\sqrt{G_{x}^{2}+G_{y}^{2}}\]

\end_inset


\begin_inset Formula \[
\Theta=\arctan\left(\frac{G_{y}}{G_{x}}\right)\]

\end_inset

El ángulo 
\begin_inset Formula $\Theta$
\end_inset

 es 
\begin_inset Quotes eld
\end_inset

redondeado
\begin_inset Quotes erd
\end_inset

 a una de las 4 posibles 
\begin_inset Quotes eld
\end_inset

inclinaciones
\begin_inset Quotes erd
\end_inset

 dadas por los ángulos 0, 45, 90 y 135 (ya que 180 se lo considerara análogo
 a 0, 135 a 45, 270 a 90 y 315 a 135).
\end_layout

\begin_layout Enumerate

\series bold
Non-maximum suppression
\series default
: Dada la imagen de magnitudes de gradientes calculada en el paso anterior,
 donde cada píxel contiene el valor 
\begin_inset Formula $\left|G\right|$
\end_inset

 y el 
\begin_inset Formula $\Theta$
\end_inset

 redondeado, se procede a eliminar todo borde borroso dejando solo aquellos
 bien marcados (también denominados como 
\shape italic
\color black
fuertes
\shape default
\color inherit
), esto se logra por medio de la eliminación de todo máximo que no sea local
 en la imagen de gradientes y dejando solo aquellos que si lo sean.
 Se puede describir el procedimiento realizado sobre cada píxel 
\begin_inset Formula $p$
\end_inset

 en 2 pasos y por medio de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Non-maximum-suppression.-La"

\end_inset

 como: a) Se obtienen los píxeles vecinos (
\begin_inset Formula $p_{1}$
\end_inset

 y 
\begin_inset Formula $p_{2}$
\end_inset

) asociados a 
\begin_inset Formula $p$
\end_inset

 en base a la dirección 
\begin_inset Formula $\Theta$
\end_inset

 (en este caso 
\begin_inset Formula $\Theta=90$
\end_inset

 por lo tanto se toman tanto el píxel vecino superior 
\begin_inset Formula $p_{1}$
\end_inset

 y el píxel vecino inferior 
\begin_inset Formula $p_{2}$
\end_inset

).
 b) Se compara la magnitud del gradiente 
\begin_inset Formula $G$
\end_inset

 de 
\begin_inset Formula $p$
\end_inset

 con el de los vecinos 
\begin_inset Formula $p_{1}$
\end_inset

 y 
\begin_inset Formula $p_{2}$
\end_inset

.
 Si éste es mayor que el de sus vecinos se lo deja marcado, caso contrario
 se lo suprime
\shape italic
\color black
.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_canny_gradientes.png
	width 25page%

\end_inset


\end_layout

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:Non-maximum-suppression.-La"

\end_inset

Non-maximum suppression.
 La magnitud del gradiente (edge strengths) se muestra como números (y escala
 de gris) al costado de la dirección de 
\begin_inset Formula $G$
\end_inset

, indicadas como flechas (
\begin_inset Formula $\Theta)$
\end_inset

.
 Los píxeles pertenecientes a los bordes fuertes se resaltan con un borde
 blanco.
 (extraída y modificada de 
\shape default
\color inherit

\begin_inset CommandInset citation
LatexCommand cite
key "key-17"

\end_inset


\shape italic
\color black
)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Enumerate

\series bold
Double thresholding
\series default
: La imagen resultante del paso anterior es procesada comparando cada uno
 de los píxeles (marcados como pertenecientes a un contorno) con un umbral
 alto y uno bajo.
 Aquellos píxeles que estén por debajo del 
\begin_inset Quotes eld
\end_inset

umbral bajo
\begin_inset Quotes erd
\end_inset

 son descartados, aquellos que estén por encima del 
\begin_inset Quotes eld
\end_inset

umbral alto
\begin_inset Quotes erd
\end_inset

 son marcados como 
\shape italic
fuertes
\shape default
, mientras que aquellos que se encuentren por encima del bajo y por debajo
 del alto son marcados como 
\shape italic
débiles
\shape default
.
\end_layout

\begin_layout Enumerate

\series bold
Edge tracking by hysteresis
\series default
: Dada la imagen anterior, todos los píxeles marcados como 
\shape italic
fuertes 
\shape default
son automáticamente clasificados como contornos reales (y por ende incluidos
 a la imagen final resultante).
 Aquellos píxeles marcados como 
\shape italic
débiles
\shape default
 son incluidos como contornos reales si y solo si están conectados a alguno
 de los contornos 
\shape italic
fuertes
\shape default
, caso contrario son descartados.
\end_layout

\begin_layout Standard
En 
\begin_inset CommandInset citation
LatexCommand cite
key "key-17"

\end_inset

 se describe en mayor detalle cada uno de los pasos mencionados anteriormente.
 
\end_layout

\begin_layout Standard
A modo de ejemplo podemos observar la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagenes-resultantes-luego"

\end_inset

 en la que se muestran 2 imágenes luego de ser aplicado el algoritmo de
 
\shape italic
\color black
Canny
\shape default
\color inherit
, utilizando distintos parámetros de umbrales sobre la misma imagen de entrada
 (a izquierda en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Imagen-comparativa-de"

\end_inset

).
 En la primera (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Canny-Thresholds:-2"

\end_inset

) podemos observar una gran cantidad de bordes detectados provenientes del
 ruido mismo de la imagen y debido a que se usaron valores bajos para ambos
 umbrales (thresholds).
 En la segunda (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Canny-Thresholds:-20"

\end_inset

) se puede ver que la cantidad de contornos es semejante a lo que uno esperaría
 y prácticamente no se percibe ruido o bordes no deseados.
 Es por esto, que es de suma importancia elegir valores adecuados para ambos
 umbrales a la hora de utilizar el algoritmo de 
\shape italic
\color black
Canny
\shape default
\color inherit
.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_canny_2.png
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:Canny-Thresholds:-2"

\end_inset

Canny
\shape default
\color inherit
 Thresholds: 2 y 15
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_canny_1.png
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\color black
\begin_inset CommandInset label
LatexCommand label
name "fig:Canny-Thresholds:-20"

\end_inset

Canny
\shape default
\color inherit
 Thresholds: 20 y 50
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Imagenes-resultantes-luego"

\end_inset

Imágenes resultantes luego de aplicar el algoritmo 
\shape italic
\color black
Canny
\shape default
\color inherit
 con distintos parámetros de umbrales (thresholds).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Wave height analyzer
\begin_inset CommandInset label
LatexCommand label
name "sub:Wave-height-analyzer"

\end_inset


\end_layout

\begin_layout Standard
Este algoritmo tiene como finalidad determinar cual de todos los contornos
 detectados en la imagen corresponde a la altura de ola que se este analizando.
 Para lograrlo requiere de la siguiente información.
\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $I_{mn}$
\end_inset

 la imagen de entrada, preprocesada de manera tal que 
\begin_inset Formula $I_{mn}\ni a_{ij}=1$
\end_inset

 si y solo si 
\begin_inset Formula $a_{ij}$
\end_inset

 pertenece a un contorno detectado (por simplicidad asumamos 
\begin_inset Formula $n$
\end_inset

 impar, caso contrario se trabaja sobre 
\begin_inset Formula $I_{m(n-1)}$
\end_inset

).
\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $h_{0}$
\end_inset

 el valor de la altura de ola inicial en píxeles, esto es, el numero de
 fila en la imagen 
\begin_inset Formula $I_{mn}$
\end_inset

 en la que se encuentra la altura inicial (
\begin_inset Formula $0\leq h_{0}<m$
\end_inset

).
 
\end_layout

\begin_layout Standard
Sea 
\begin_inset Formula $V$
\end_inset

 una constante numérica predefinida (previamente calculada) por el usuario
 representando la máxima variación de altura de ola aceptable en píxeles
 (esto es la cantidad máxima de píxeles aceptables que puede cambiar la
 ola de un paso al otro).
\end_layout

\begin_layout Standard
Se asume además que el movimiento de la ola se realiza sobre el eje 
\begin_inset Formula $y$
\end_inset

 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Matriz-de-pixels"

\end_inset

), esto es, dada la columna k-ésima (
\begin_inset Formula $I_{*k}$
\end_inset

) de la imagen, podemos observar la diferencia de altura a medida que nos
 movemos verticalmente sobre las diferentes filas de 
\begin_inset Formula $I$
\end_inset

 sobre la columna 
\begin_inset Formula $k$
\end_inset

.
\end_layout

\begin_layout Standard
Teniendo en cuenta que como objetivo principal, este algoritmo debe obtener
 la altura de ola en un punto determinado de la imagen (en una columna determina
da), se asume que este punto se encuentra sobre la columna 
\begin_inset Formula $\frac{n}{2}$
\end_inset

.
 
\end_layout

\begin_layout Standard
Podemos describir entonces el funcionamiento del algoritmo como:
\end_layout

\begin_layout Enumerate
Para cada columna 
\begin_inset Formula $I_{*k}:0\leq k<n$
\end_inset

, sea 
\begin_inset Formula $\bar{w}_{k}$
\end_inset

 la ultima altura calculada en la k-ésima columna (donde 
\begin_inset Formula $\bar{w}_{k}$
\end_inset

 es el índice de una fila), buscamos la nueva altura 
\begin_inset Formula $w_{k}$
\end_inset

 de la siguiente forma: Partiendo de 
\begin_inset Formula $a_{\bar{w}_{k}k}\in I_{mn}$
\end_inset

, buscamos el 
\begin_inset Formula $i$
\end_inset

 tal que se cumpla 
\begin_inset Formula \[
a_{ik}=1\wedge\left|i-\bar{w}_{k}\right|\leq\left|j-\bar{w}_{k}\right|\forall j=0..m\;:\; a_{jk}=1\]

\end_inset

asignando entonces 
\begin_inset Formula $w_{k}=i$
\end_inset

.
 En caso de que tal 
\begin_inset Formula $i$
\end_inset

 no exista asignamos 
\begin_inset Formula $w_{k}=\bar{w}_{k}$
\end_inset

.
 En palabras, esto no es mas que encontrar el píxel marcado como verdadero
 que se encuentre mas cercano (en posición) a la ultima altura calculada
 (
\begin_inset Formula $\bar{w}_{k}$
\end_inset

).
\end_layout

\begin_layout Enumerate
Sea 
\begin_inset Formula $k=\frac{n}{2}$
\end_inset

 la columna de mayor importancia (la que se esta analizando), se calcula
 la varianza 
\begin_inset Formula $v=\left|w_{k}-\bar{w}_{k}\right|$
\end_inset

.
 Si 
\begin_inset Formula $v\leq V$
\end_inset

 se termina el algoritmo y se devuelve 
\begin_inset Formula $v$
\end_inset

, caso contrario se continua con el siguiente paso.
 En palabras, calculamos la distancia entre la altura anterior y la altura
 actual y verificamos si esta altura es menor que la constante 
\begin_inset Formula $V$
\end_inset

, de ser así se la devuelve, caso contrario se sigue con 3.
\end_layout

\begin_layout Enumerate
Sea 
\begin_inset Formula $k=\frac{n}{2}$
\end_inset

, se calculan las 
\begin_inset Formula $v_{i}=\left|w_{k-i}-\bar{w}_{k-i}\right|+\left|w_{k+i}-\bar{w}_{k+i}\right|,\; i=1,..,\frac{n-1}{2}$
\end_inset

 y se elije el 
\begin_inset Formula $i$
\end_inset

 tale que 
\begin_inset Formula $v_{i}\leq\min\{v_{j}\}:\: j=1,..,\frac{n-1}{2}$
\end_inset

.
 Una vez encontrado este 
\begin_inset Formula $i$
\end_inset

 se calcula la altura promedio entre estas 2 ultimas alturas de las columnas
 correspondientes, esto es, 
\begin_inset Formula $h=\frac{w_{k-i}+w_{k+i}}{2}$
\end_inset

 y devolvemos 
\begin_inset Formula $h$
\end_inset

 como altura.
 En palabras, esto no es mas que buscar las alturas correspondientes a los
 bordes del punto que se esta analizando (que son las columnas de píxeles
 a los alrededores de la que se analiza) que presente la menor variación.
\end_layout

\begin_layout Standard
Cada vez que finaliza el algoritmo se actualizan las ultimas alturas encontradas
 para evitar acumulación de error.
 
\end_layout

\begin_layout Standard
Las 
\begin_inset Formula $\bar{w_{k}}$
\end_inset

 de cada una de las columnas son inicializadas por defecto con el valor
 
\begin_inset Formula $h_{0}$
\end_inset

 (altura inicial de ola).
\end_layout

\begin_layout Standard
Puede parecer que el paso 3 agrega complejidad innecesaria, pero debido
 a que en ciertas situaciones (por problemas de luz o de entorno), la detección
 de contornos no se realiza correctamente en ciertos puntos (y por ende
 la altura de ola no es detectada), es necesario una forma alternativa de
 encontrar la altura de la superficie libre a los alrededores del punto
 que se esta analizando, evitando de esta forma posibles mediciones erróneas
 como tomar un contorno marcado no perteneciente a la altura de ola y asumiendo
 que lo es.
 De esta forma se logra que el algoritmo sea mas robusto y por ende un sistema
 menos propenso a fallas.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Implementación y funcionamiento del sistema
\end_layout

\begin_layout Subsection
Requerimientos principales
\end_layout

\begin_layout Standard
Como objetivo principal, el sistema debía capturar la altura de la superficie
 libre del fluido a medir desde una cámara (web/usb) y lograrlo en tiempo
 real.
 A continuación se listan los requerimientos mas importantes que el sistema
 debía cumplir:
\end_layout

\begin_layout Itemize

\series bold
REQ1:
\series default
 Dada una cámara web usb, poder capturar y procesar las imágenes a una velocidad
 no inferior a 20 fps (o 20 capturas por segundo) y una resolución que permita
 una detección de altura con no mas de 0.5 cm de error.
\end_layout

\begin_layout Itemize

\series bold
REQ2:
\series default
 El sistema debía funcionar en una maquina estándar (que no se requiera
 de una supercomputadora para lograr la velocidad de procesamiento), ya
 que, como se menciono anteriormente, una de las ventajas del sistema era
 su bajo costo.
\end_layout

\begin_layout Itemize

\series bold
REQ3:
\series default
 Ser fácil de utilizar y configurar por cualquier persona (que no posea
 conocimientos previos) que use el sistema.
\end_layout

\begin_layout Itemize

\series bold
REQ4:
\series default
 Tener una estructura (arquitectura) flexible que posibilite el desarrollo
 de futuras aplicaciones (que midan otras variables hidrodinámicas) o ser
 modificado por otros investigadores en el futuro.
\end_layout

\begin_layout Itemize

\series bold
REQ5:
\series default
 Contar con una interfaz gráfica que permitiese mostrar los datos procesados
 y además la posibilidad de compararlos con los obtenidos 
\color black
por el otro sistema de medición actualmente utilizado
\color red
 
\color black
(sensor de nivel resistivo)
\color inherit
.
\end_layout

\begin_layout Standard
Debido a que no existía ninguna restricción sobre el lenguaje de programación
 a utilizar, entorno sobre el cual desarrollar, ni tipos de librerías a
 emplear, se tomaron ciertas decisiones sobre como sería la implementación
 del sistema, y teniendo en cuenta los requerimientos antes mencionados,
 se opto por lo siguiente:
\end_layout

\begin_layout Itemize

\series bold
Entorno
\series default
: 
\shape italic
\color black
Linux
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
www.linux.com
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Lenguaje de programación
\series default
: 
\shape italic
\color black
C++
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
www.cplusplus.com
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Librerías de procesamiento gráfico
\series default
: 
\shape italic
\color black
OpenCV
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://opencv.willowgarage.com/wiki/
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Librerías de interfaz gráfica (Graphical User Interface o GUI)
\series default
: 
\shape italic
\color black
Qt
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://qt.nokia.com/
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
Librerías adicionales
\series default
: 
\shape italic
\color black
Tinyxml
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://www.grinninglizard.com/tinyxml/
\end_layout

\end_inset

.
 
\shape italic
\color black
Qwt
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://qwt.sourceforge.net/
\end_layout

\end_inset

.
 
\shape italic
\color black
v4l-utils
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://freecode.com/projects/libv4l
\end_layout

\end_inset

, 
\shape italic
\color black
FFTW++
\begin_inset Foot
status open

\begin_layout Plain Layout
http://fftwpp.sourceforge.net/
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
En los siguientes párrafos se dará una breve explicación del porque de éstas
 decisiones.
\end_layout

\begin_layout Standard
El sistema fue desarrollado en el entorno Linux principalmente por comodidad
 y gusto, aún así, las librerías utilizadas son multiplaforma por lo que
 debería poder ser compilado en otras entornos (exceptuando la aplicación
 externa utilizada para configurar la cámara web, que en el caso de windows,
 la aplicación proveída por el manufacturador de la cámara debería alcanzar).
\end_layout

\begin_layout Standard
El lenguaje de programación 
\shape italic
C++
\shape default
 fue elegido debido a que es un lenguaje de programación con mayor performance
 en comparación con otros, lo que era necesario para cumplir con el procesamient
o en tiempo real (
\series bold
REQ1
\series default
, 
\series bold
REQ2
\series default
).
 Por otro lado ya se poseían conocimientos previos del mismo (como así también
 preferencia), lo que agilizaría el desarrollo.
\end_layout

\begin_layout Standard
Dentro de un gran conjunto de librerías de procesamiento gráfico, se opto
 por 
\shape italic
OpenCV
\shape default
 ya que ésta esta principalmente orientada a sistemas que requieren de manipulac
ión de imágenes en tiempo real (
\shape italic
\color black
real time computer vision systems
\shape default
\color inherit
) como la robótica.
 Además de que tiene un alto grado de maduración, está actualmente activa
 y existe mucha documentación.
\end_layout

\begin_layout Standard
En cuanto al 
\series bold
REQ3
\series default
, para poder cumplirlo, necesariamente se requería de una interfaz gráfica
 para el usuario, por lo cual se decidió elegir 
\shape italic
Qt
\shape default
 ya que posee una 
\shape italic
\color black
API
\begin_inset Foot
status open

\begin_layout Plain Layout

\shape italic
\color black
Application Programming Interface
\end_layout

\end_inset


\shape default
\color inherit
 para
\shape italic
 C++
\shape default
, cubría con todas las necesidades que el sistema planteaba, era de fácil
 integración con 
\shape italic
OpenCV
\shape default
 y se poseía cierto grado de conocimiento previo sobre la misma.
\end_layout

\begin_layout Standard
Con respecto a las librerías adicionales, las de mayor impacto sobre el
 sistema es 
\shape italic
Qwt
\shape default
 ya que 
\series bold
REQ5 
\series default
se basa en ésta.
 Fue elegida debido a que proveía la funcionalidad deseada de una manera
 muy sencilla y de fácil integración con las demás librerías (es una extinción
 de 
\shape italic
Qt
\shape default
 - utilizada para la 
\shape italic
GUI
\shape default
 del sistema -).
 Además 
\shape italic
\color black
FFTW++
\shape default
\color inherit
 se utilizó para el calculo y análisis de los datos obtenidos.
\end_layout

\begin_layout Standard
El código fuente del sistema implementado se lo puede encontrar en 
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset

.
\end_layout

\begin_layout Subsection
Arquitectura
\begin_inset CommandInset label
LatexCommand label
name "sub:Arquitectura"

\end_inset


\end_layout

\begin_layout Subsubsection
A nivel general
\begin_inset CommandInset label
LatexCommand label
name "sub:A-nivel-general"

\end_inset


\end_layout

\begin_layout Standard
A un nivel 
\begin_inset Quotes eld
\end_inset

macro
\begin_inset Quotes erd
\end_inset

, la arquitectura del sistema se la puede simplificar como se lo muestra
 en la 
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitectura-general-del"

\end_inset

.
 Esta decisión fue tomada para poder cubrir el 
\series bold
REQ4
\series default
 (flexibilidad para la fácil integración de posibles futuras aplicaciones).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_arq_high_level.png
	lyxscale 80
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitectura-general-del"

\end_inset

Arquitectura general del sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como se puede ver en el diagrama de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitectura-general-del"

\end_inset

, el sistema consta de un modulo principal (
\series bold
\shape italic
I
\series default
mage
\series bold
P
\series default
rocessing
\series bold
S
\series default
ystem
\shape default
 
\shape italic
\color black
Loader
\shape default
\color inherit
 o 
\shape italic
IPS
\shape default
 
\shape italic
\color black
Loader
\shape default
\color inherit
) el cual tiene como finalidad listar y mostrar todos los módulos 
\shape italic
IPS
\shape default
 que se encuentren dando la posibilidad al usuario de elegir y cargar uno
 especifico.
 Estos 
\shape italic
IPS
\shape default
 tienen como objetivo encapsular una aplicación con una finalidad especifica,
 que en el caso de este trabajo, es detectar la altura de la superficie
 libre de un fluido.
\end_layout

\begin_layout Standard
Cada 
\shape italic
IPS
\shape default
 esta conformado por 2 partes, una gráfica (
\shape italic
IPS GUI
\shape default
) y una de procesamiento (
\shape italic
IPS Core
\shape default
).
 La primera, tiene como fin brindarle al usuario una forma fácil y ágil
 de configurar a la segunda, la cual en general, requiere de muchos pasos
 y parámetros para poder ser utilizada correctamente.
 En esta ultima (
\shape italic
IPS Core
\shape default
) se encuentra toda la lógica y algoritmos para el procesamiento de imágenes,
 que no depende en absoluto de la parte gráfica para su funcionamiento,
 lo que permite, si se desea, desarrollar nuevas aplicaciones sin la necesidad
 de implementar una interfaz gráfica o aún más, modificar de manera sencilla
 el sistema para soportar otro tipo de librerías para la 
\shape italic
GUI
\shape default
.
\end_layout

\begin_layout Standard
Debido a que las aplicaciones que pueden ser desarrolladas requieren en
 general de una interfaz gráfica, y que además, la configuración se realiza
 en una fase previa al procesamiento de imágenes (antes de empezar a capturar
 y procesar las imágenes el 
\shape italic
IPS Core
\shape default
 debe estar configurado), se opto por ejecutar la interfaz gráfica en un
 principio y que esta sea la encargada de ejecutar la otra parte (
\shape italic
IPS Core
\shape default
).
 Esto se lo puede ver en el diagrama de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitectura-general-del"

\end_inset

 a través de las flechas (
\shape italic
IPS Loader
\shape default
 --> 
\shape italic
IPS GUI
\shape default
, 
\shape italic
IPS GUI
\shape default
 --> 
\shape italic
IPS Core
\shape default
).
\end_layout

\begin_layout Subsubsection
A nivel de IPS
\end_layout

\begin_layout Standard
En este trabajo se creo una estructura general (una especie de 
\shape italic
\color black
Framework
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://es.wikipedia.org/wiki/Framework
\end_layout

\end_inset

) para todos los 
\shape italic
Image Processing System (IPS)
\shape default
 que brindará la suficiente flexibilidad para las futuras aplicaciones a
 desarrollar.
 Esta estructura se aplica principalmente a la parte de procesamiento (
\shape italic
Core
\shape default
) ya que la interfaz gráfica puede variar mucho de aplicación en aplicación.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_arq_ips.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Arquitectura-de-los"

\end_inset

Arquitectura de los 
\shape italic
Image Processing System (IPS)
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
A grandes rasgos, se puede observar (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Arquitectura-de-los"

\end_inset

) que el 
\shape italic
IPS Core
\shape default
 consta de dos módulos, por un lado el 
\shape italic
ImageGenerator
\shape default
, el cual, como su nombre lo indica, tiene como fin generar imágenes para
 ser procesadas, estas pueden provenir de una cámara o bien de un archivo
 de vídeo.
 Por otro lado se encuentra el 
\shape italic
ImageAnalyzer, 
\shape default
el cual se rige de sus unidades básicas funcionales llamadas 
\shape italic
ImageProcessor
\shape default
, las cuales realizan el verdadero procesamiento de imágenes, cada uno con
 una funcionalidad determinada.
 Dada una imagen 
\begin_inset Formula $I$
\end_inset

 obtenida del 
\shape italic
ImageGenerator
\shape default
, el 
\shape italic
ImageAnalyzer
\shape default
 tiene como finalidad procesarla (a través de los distintos 
\shape italic
ImageProcessors
\shape default
 que contiene) y devolver como salida el resultado del procesamiento completo.
\end_layout

\begin_layout Standard
En la parte superior del diagrama se puede observar la interfaz gráfica
 (
\shape italic
IPS 
\color black
GUI
\shape default
\color inherit
), la cual se comunica con el 
\shape italic
IPS 
\color black
Core
\shape default
\color inherit
 con el fin de poder configurar cada uno de estos 
\shape italic
ImageProcessors
\shape default
.
\end_layout

\begin_layout Standard
Gracias a esta arquitectura, el sistema es muy flexible en cuanto a la actividad
 que deba realizar (y por ende la aplicación que se quiera desarrollar),
 ya que simplemente se basa en lo que los 
\shape italic
ImageProcessor
\shape default
 estén configurados para hacer.
\end_layout

\begin_layout Standard
A modo de ejemplo, en el caso particular de este trabajo se desarrollo un
 
\shape italic
IPS
\shape default
 con el fin de capturar la altura de superficie libre de un fluido, al cual
 se lo llamo 
\series bold
WaveHeightIPS 
\series default
(
\shape italic
WHIPS
\shape default
).
 Para lograr la funcionalidad deseada se desarrollaron cuatro 
\shape italic
ImageProcessor
\shape default
 distintos los cuales se muestran en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:ImagePorcessor's-del-WaveHeightIPS."

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_arq_whips.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\shape italic
\begin_inset CommandInset label
LatexCommand label
name "fig:ImagePorcessor's-del-WaveHeightIPS."

\end_inset

ImagePorcessor's
\shape default
 del 
\shape italic
WaveHeightIPS
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En los siguientes capítulos se explicara el funcionamiento detallado del
 
\shape italic
WHIPS
\shape default
 y de cada uno de los 
\shape italic
ImageProcessor 
\shape default
que lo conforman.
\end_layout

\begin_layout Subsection
Diseño
\end_layout

\begin_layout Subsubsection
Preliminares
\end_layout

\begin_layout Standard
Comenzaremos describiendo el diseño del sistema al nivel estructural sin
 entrar en detalles sobre el 
\shape italic
IPS
\shape default
 desarrollado para este trabajo, osea, se mostrará en un principio, como
 es el diseño de la maquinaria (
\shape italic
\color black
framework
\shape default
\color inherit
) que permite la creación de estos 
\shape italic
IPS
\shape default
.
\end_layout

\begin_layout Subsubsection
Nivel estructural o de framework
\end_layout

\begin_layout Standard
Como se menciono anteriormente, el sistema debía facilitar el desarrollo
 de futuras aplicaciones (
\series bold
REQ4
\series default
), para lograr esto, se modelo y encapsulo a cada posible aplicación como
 un 
\shape italic
Image Processing System
\shape default
 
\shape italic
\color black
(IPS)
\shape default
\color inherit
.
 Esto llevo a un diseño al nivel de 
\shape italic
framework
\shape default
 como se muestra en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-alto"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_abstract_design.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diseño-de-alto"

\end_inset

Diseño de alto nivel (al nivel estructural de los 
\shape italic
\color black
IPS
\shape default
\color inherit
).
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Se observa el diseño a grandes rasgos del sistema completo sin ningún detalle
 de la interfaz de cada una de las clases, como así también, se obviaron
 varias clases auxiliares para evitar complejidad en el esquema.
 Listaremos a continuación, en forma general, las funcionalidades principales
 de cada una de estas clases.
\end_layout

\begin_layout Itemize

\series bold
MainProgram
\series default
: Programa principal encargado de cargar los 
\shape italic
IPS
\shape default
 y ejecutarlos según corresponda.
\end_layout

\begin_layout Itemize

\series bold
IPSFactory
\series default
: Clase auxiliar encargada de buscar y listar todos los 
\shape italic
IPS
\shape default
 disponibles.
\end_layout

\begin_layout Itemize

\series bold
GUIImageProcessingSystem
\series default
: Clase abstracta que brinda la interfaz de como deben ser los 
\shape italic
IPS
\shape default
 
\shape italic
GUI
\shape default
 a ser implementados.
 Esta es la clase que se ejecuta en una primera instancia cuando el usuario
 desea ejecutar un 
\shape italic
\color black
IPS
\shape default
\color inherit
 determinado.
\end_layout

\begin_layout Itemize

\series bold
ConfigWindowManager
\series default
: Manejador de ventanas, encargado de organizarlas y mostrarlas según correspond
a.
\end_layout

\begin_layout Itemize

\series bold
ConfigWindow
\series default
: Abstracción de como debe ser toda ventana de configuración.
\end_layout

\begin_layout Itemize

\series bold
ImageGenerator
\series default
: Clase encargada de abstraer la generación de imágenes, ya sea de archivo
 o de una cámara de vídeo.
\end_layout

\begin_layout Itemize

\series bold
ImageProcessingSystem
\series default
: Abstracción de como deben ser los 
\shape italic
IPS
\shape default
 
\shape italic
Core
\shape default
 a ser implementados.
\end_layout

\begin_layout Itemize

\series bold
ImageAnalyzer
\series default
: Clase encargada de contener y ejecutar en orden a los 
\shape italic
\color black
ImageProcessor
\shape default
\color inherit
 que contenga.
 Representa el modulo de procesamiento de imágenes.
\end_layout

\begin_layout Itemize

\series bold
ImageProcessor
\series default
: Abstracción de como debe ser la unidad básica de procesamiento.
\end_layout

\begin_layout Standard
Como se puede observar (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-alto"

\end_inset

), y como se menciono en el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:A-nivel-general"

\end_inset

.
 
\shape italic
\color black
A nivel general
\shape default
\color inherit
, se diferencian 2 partes (en la imagen anterior, separadas por la linea
 discontinua horizontal).
 En la fracción superior se encuentra el denominado 
\shape italic
IPS Core
\shape default
 (donde se realiza el procesamiento real de las imágenes), mientras que
 en la parte inferior se encuentran el programa principal (conformado por:
\shape italic
 MainProgram
\shape default
 y 
\shape italic
IPSFactory
\shape default
) y el 
\shape italic
IPS GUI
\shape default
.
 El diseño en mayor detalle de cada una de estas partes serán descriptas
 a continuación.
\end_layout

\begin_layout Subsubsection
IPS Core
\end_layout

\begin_layout Standard
El núcleo de procesamiento se encuentra en este modulo.
 A modo simplificado, el diseño de clases del 
\shape italic
IPS Core
\shape default
 se puede observar en el diagrama de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-clases"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_disenio_IPS_Core.png
	lyxscale 80
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diseño-de-clases"

\end_inset

Diseño de clases simplificado de un 
\shape italic
IPS Core
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Describiremos a continuación la funcionalidad de cada una de las clases:
\end_layout

\begin_layout Itemize

\series bold
Frame
\series default
: Es el tipo de dato con la que se maneja el sistema para almacenar la imagen
 capturada por el dispositivo con el tiempo de captura asociado.
\end_layout

\begin_layout Itemize

\series bold
FrameListener, FrameEmitter
\series default
: Funcionan en conjunto como notificador (
\shape italic
FrameEmitter
\shape default
) y receptor -procesador- (
\shape italic
FrameListener
\shape default
) de 
\shape italic
Frame
\shape default
.
 Esto es lo que se denomina 
\shape italic
Observer
\shape default
 en patrones de diseño 
\begin_inset CommandInset citation
LatexCommand cite
key "key-18"

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
ImageGenerator
\series default
: Clase encargada de abstraer la generación de imágenes.
 Dependiendo del método llamado el 
\shape italic
ImageGeneretor
\shape default
 puede ser configurado para obtener imágenes desde una cámara de vídeo (
\shape italic
createDevice(cameraID)
\shape default
) o bien desde un archivo de vídeo (
\shape italic
createDevice(videoFilePath)
\shape default
).
 Además brinda 2 opciones para devolver nuevos 
\shape italic
Frame
\shape default
, por un lado los puede generar automáticamente (si se llama a 
\shape italic
startGenerating()
\shape default
) y distribuyéndolos/notificando a los 
\shape italic
FrameListener
\shape default
 asociados (asumiendo que ya fueron asociados por medio del método 
\shape italic
addNewListener
\shape default
), o puede hacerlo a pedido (por medio de la llamada 
\shape italic
captureFrame(Frame)
\shape default
) devolviendo de a un único 
\shape italic
Frame
\shape default
.
 Se pensó además, en caso de ser necesario, la posibilidad de realizar 
\shape italic
\color black
buffering
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://es.wikipedia.org/wiki/Buffer
\end_layout

\end_inset

 agilizando por medio de la paralelización (usando mas de un core) la captura
 de frames desde el dispositivo y su posterior procesamiento
\begin_inset Foot
status open

\begin_layout Plain Layout
Actualmente no se implemento debido a que a la hora de realizar las pruebas
 se logro cumplir con la performance requerida.
\end_layout

\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
ImageProcessor
\series default
: Abstracción de la unidad base funcional, esto es, toda transformación,
 manipulación y análisis que se haga sobre las imágenes tomadas (
\shape italic
Frame
\shape default
) se realiza por medio de un 
\shape italic
ImageProcessor
\shape default
.
 Como se puede ver, existen 4 métodos principales, los cuales deben ser
 implementados por aquellos que hereden de éste.
 Estos son: 
\shape italic
getParam
\shape default
, 
\shape italic
setParam
\shape default
, utilizados para obtener y configurar los parámetros del 
\shape italic
ImageProcessor
\shape default
, mientras que 
\shape italic
processData(Image_t)
\shape default
, 
\shape italic
processData(GPUImage_t)
\shape default
, determinan donde se realizará el procesamiento de la imagen (en CPU o
 en GPU
\begin_inset Foot
status open

\begin_layout Plain Layout
http://en.wikipedia.org/wiki/Graphics_processing_unit
\end_layout

\end_inset

).
 La existencia de este último (
\shape italic
processData(GPUImage_t)
\shape default
) surgió debido a que en un principio se planteo la posibilidad de realizar
 análisis mas exhaustivos sobre imágenes de mayor tamaño lo que necesariamente
 requería un poder de procesamiento mucho mayor, pero al mismo tiempo se
 debía mantener la velocidad, para lograrlo se considero la posibilidad
 de realizar este trabajo en la GPU.
\end_layout

\begin_layout Itemize

\series bold
ImageAnalyzer
\series default
: Clase encargada de contener y almacenar ordenadamente a los 
\shape italic
ImageProcessor
\series bold
\shape default
 
\series default
utilizados para la transformación/análisis del 
\shape italic
Frame
\shape default
.
 En conjunto con los 
\shape italic
ImageProcessor
\shape default
 conforma la unidad principal de procesamiento.
 Debido a que el procesamiento del 
\shape italic
Frame
\shape default
 se realiza de manera secuencial, la orden de ejecución de cada 
\shape italic
ImageProcessor
\series bold
\shape default
 
\series default
esta dada por el orden en el que son agregados al 
\shape italic
ImageAnalyzer
\series bold
\shape default
 
\series default
(por medio del método 
\shape italic
addNewProcessor
\shape default
), además, como se puede observar, el 
\shape italic
Frame
\series bold
\shape default
 
\series default
puede ser analizado tanto en CPU como en la GPU si cada uno de los 
\shape italic
ImageProcessor
\shape default
 cuenta con la implementación correspondiente.
 Se puede realizar un tracking del proceso por medio del parámetro adicional
 
\shape italic
trackProcess
\shape default
, el cual permite recopilar información sobre el tiempo invertido en procesar
 el 
\shape italic
Frame
\shape default
 en cada uno de los 
\shape italic
ImageProcessor
\shape default
.
\end_layout

\begin_layout Itemize

\series bold
ImageProcessingSystem
\series default
: Abstracción de un 
\shape italic
IPS Core
\shape default
.
 Tiene asociado un nombre e información (sobre que hace) que lo identifican
 (los cuales se pueden obtener por medio de 
\shape italic
getName()
\shape default
, 
\shape italic
getInfo()
\shape default
 respectivamente).
 Los métodos a ser implementados por cada uno de los 
\shape italic
IPS Core
\shape default
 desarrollados son solamente 2: 
\shape italic
initialize()
\shape default
 y 
\shape italic
execute()
\shape default
.
 El primero tiene como fin cargar todo lo necesario para su correcto funcionamie
nto, mientras que el segundo, es el encargado de realizar el proceso completo
 asociado al 
\shape italic
IPS
\shape default
 (esto es, obtener nuevos frames del 
\shape italic
ImageGenerator
\shape default
 y procesar cada uno de éstos).
\end_layout

\begin_layout Subsubsection
IPS GUI
\end_layout

\begin_layout Standard
El conjunto de clases que conforman la interfaz gráfica (GUI) utilizada
 para la configuración del 
\shape italic
IPS Core
\shape default
 se denomina 
\shape italic
IPS GUI
\shape default
.
 Un diseño de clases simplificado y a un nivel de abstracción se lo puede
 observar en el diagrama de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-clases-1"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_disenio_IPS_GUI.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diseño-de-clases-1"

\end_inset

Diseño de clases simplificado de un 
\shape italic
IPS GUI
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Este diseño es el que se usará en la implementación (concreta) de los 
\shape italic
IPS GUI
\shape default
 a desarrollar, como lo es el 
\shape italic
WHIPS
\shape default
 (descripto en el siguiente capitulo).
 Presentaremos las principales características e interacciones que existen
 entre las clases del 
\shape italic
IPS GUI
\shape default
 comenzando de lo mas particular a lo mas general.
\end_layout

\begin_layout Itemize

\series bold
CameraConfigWindow
\series default
: Clase utilizada para configurar los parámetros de la cámara web.
\end_layout

\begin_layout Itemize

\series bold
VideoFileConfigWindow
\series default
: Clase utilizada para configurar y manipular el vídeo (adelantar, retroceder,
 posicionar el vídeo en un instante determinado).
\end_layout

\begin_layout Itemize

\series bold
ConfigWindow
\series default
: Interfaz de una ventana de configuración (utilizada principalmente para
 configurar los 
\shape italic
ImageProcessor
\shape default
).
 Tiene asociado un nombre identificador (el cual puede ser obtenido por
 
\shape italic
getName()
\shape default
).
 Cada ConfigWindow brinda la posibilidad además de poder cargar/descargar
 una configuración determinada por medio de un xml, debido a que en general,
 la configuración de cada 
\shape italic
ImageProcessor
\shape default
 requiere de una previsualización a través de la interfaz gráfica.
\end_layout

\begin_layout Itemize

\series bold
ConfigWindowManager
\series default
: Clase encargada de manejar y administrar la forma en la que se mostraran
 las 
\shape italic
ConfigWindow
\shape default
 (tamaño, posición, orden de secuencia), como así también la carga y descarga
 de la configuración correspondiente a cada una de las ventanas por medio
 de un xml (a través de los métodos 
\shape italic
loadConfig(xml)
\shape default
, 
\shape italic
getConfig(xml)
\shape default
).
\end_layout

\begin_layout Itemize

\series bold
GUIImageProcessingSystem
\series default
: Representación (abstracta) del 
\shape italic
IPS GUI
\shape default
.
 Al igual que el 
\shape italic
IPS Core
\shape default
, tiene asociado un nombre que lo identifica y una breve descripción sobre
 la finalidad del mismo (los cuales son accedidos por medio de los métodos
 
\shape italic
getName()
\shape default
, 
\shape italic
getInfo
\shape default
 respectivamente
\shape italic
()
\shape default
), que en general, corresponden al nombre e información del 
\shape italic
IPS Core
\shape default
.
 Por otro lado cuenta con 2 funciones principales, que son 
\shape italic
initialize()
\shape default
 utilizada para inicializar el 
\shape italic
IPS Core
\shape default
 asociado y el sistema de ventanas a utilizar por el 
\shape italic
IPS GUI
\shape default
, por otro lado se encuentra 
\shape italic
execute()
\shape default
 que ejecuta el sistemas de ventanas para comenzar la configuración del
 
\shape italic
IPS Core
\shape default
 y su posterior ejecución.
\end_layout

\begin_layout Subsection
WHIPS
\end_layout

\begin_layout Subsubsection
Introducción
\end_layout

\begin_layout Standard
Como se menciono en los capítulos anteriores, la funcionalidad del sistema
 se encuentra en las aplicaciones que pueda ejecutar, las cuales fueron
 modeladas como 
\shape italic
ImageProcessingSystem.
 
\shape default
Éstos tienen un objetivo y funcionalidad especifica.
 Como objetivo principal de este trabajo se planteo desarrollar una aplicación
 que por medio de una webcam pudiese capturar la altura de la superficie
 libre en tiempo real.
 Es por esto, y por medio del 
\shape italic
\color black
framework
\shape default
\color inherit
 desarrollado y detallado anteriormente, se implemento un 
\shape italic
IPS
\shape default
 con tal finalidad, el cual recibió el nombre de 
\shape italic
WHIPS
\shape default
 (
\series bold
W
\series default
ave 
\series bold
H
\series default
eight 
\series bold
I
\series default
mage 
\series bold
P
\series default
rocessing 
\series bold
S
\series default
ystem).
 En este capitulo se mostrara el diseño y detalles del funcionamiento del
 mismo.
\end_layout

\begin_layout Subsubsection
Diseño
\end_layout

\begin_layout Standard
El diseño de 
\shape italic
WHIPS
\shape default
 parte de la base abstracta (diseño de abstracción) enseñado anteriormente.
 Por un lado se encuentra la interfaz gráfica y por el otro la unidad de
 procesamiento.
\end_layout

\begin_layout Standard
La unidad de procesamiento (o 
\begin_inset Quotes eld
\end_inset


\shape italic
WHIPS Core
\shape default

\begin_inset Quotes erd
\end_inset

), como se lo muestra en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-clases-2"

\end_inset

, cuenta con la clase principal 
\series bold
WaveHeightIPS
\series default
 encargada de llevar a cabo todo el proceso de análisis de imagen para capturar
 la altura de la superficie libre.
 Depende de 4 
\shape italic
\color black
ImageProcessor
\shape default
\color inherit
 para lograrlo, estos son 
\series bold
IRectifier
\series default
, 
\series bold
IClipping
\series default
, 
\series bold
IBorderDetector
\series default
, 
\series bold
IAnalyzer
\series default
, cada uno con una funcionalidad determinada y representando a una de las
 etapas explicadas en el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Tecnicas-utilizadas"

\end_inset


\shape italic
\color black
 Técnicas utilizadas
\shape default
\color inherit
.
 Como se puede observar en el diagrama, estos son clases abstractas que
 sirven solo para brindar una interfaz a las clases que hereden de estas.
 Esta capa de abstracción fue agregada para facilitar (y por medio de la
 utilización de la 
\series bold
WaveHeightIPFactory
\series default
) la posibilidad de cambiar cada uno de los 
\shape italic
ImageProcessor
\shape default
 (concretos) de forma fácil sin alterar la la estructura general del modulo
 (por si se deseaba utilizar o probar distintos algoritmos en alguna de
 las etapas del proceso completo).
 En este caso en particular se muestran las 4 implementaciones correspondientes
 a cada una de las fases del proceso (cada uno de los 
\shape italic
ImageProcessor
\shape default
), éstos son 
\series bold
PerspectiveRectifier
\series default
, 
\series bold
MiddlePointClipping
\series default
, 
\series bold
CannyBorderDetector
\series default
 y 
\series bold
WaveHeightAnalyzer
\series default
 respectivamente.
 En el siguiente capitulo se detallara el funcionamiento de cada uno de
 estos.
 
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_disenio_WHIPS_core.png
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diseño-de-clases-2"

\end_inset

Diseño de clases del 
\shape italic
WHIPS Core
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por otro lado se encuentra la interfaz gráfica (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diseño-de-clases-3"

\end_inset

) o 
\shape italic

\begin_inset Quotes eld
\end_inset

WHIPS GUI
\shape default

\begin_inset Quotes erd
\end_inset

, donde se pueden diferenciar 3 partes (remarcadas con distintos colores
 en la figura) con respecto a las etapas del proceso y sus respectivas clases.
 Éstas son la etapa de configuración o pre-procesamiento (
\series bold
GUIPerspectiveRectifier
\series default
, 
\series bold
GUIMiddlePointClipping
\series default
 y 
\series bold
GUICannyBorderDetector
\series default
), la etapa de procesamiento (
\series bold
GUIRealTimeDataDisplayer
\series default
), y la etapa de post-procesamiento o análisis de datos (
\series bold
DataAnalyzerWindow
\series default
).
\end_layout

\begin_layout Standard
Para la primera (configuración) las clases involucradas tienen como finalidad
 la configuración completa de los 
\shape italic
ImageProcessor
\shape default
 pertenecientes al 
\shape italic
WHIPS Core
\shape default
 (en el capitulo siguiente se explicara la relación que existe entre cada
 una de estas clases con los 
\shape italic
ImageProcessor
\shape default
 que configuran).
 Estas clases heredan de una interfaz común (
\series bold
ImgProcConfigWindow
\series default
) por el simple hecho de que poseen funcionalidad similar (lo que ahorra
 repetir código).
\end_layout

\begin_layout Standard
La segunda etapa tiene asociada la clase 
\series bold
GUIRealTimeDataDisplayer
\series default
, la cual muestra en tiempo real los datos procesados por el 
\shape italic
WHIPS Core
\shape default
, esto es, la altura de la superficie libre obtenida luego de procesar las
 imágenes de entrada (cámara de vídeo o archivo).
 Adicionalmente, ésta clase muestra al usuario la imagen que esta siendo
 procesada para darle una idea sobre el transcurso del ensayo.
\end_layout

\begin_layout Standard
La ultima etapa (análisis de datos), esta conformada principalmente por
 la clase 
\series bold
DataAnalyzeWindow
\series default
, la cual muestra de manera gráfica los resultados de todo el análisis extrayend
o y calculando valores de interés (
\shape italic
\color black
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Aplicaciones-en-laboratorio"

\end_inset

 Aplicaciones en laboratorio
\shape default
\color inherit
).
 Como se puede observar, la clase fue diseñada independientemente a las
 demás (no hereda de ninguna otra clase) ya que debía funcionar independientemen
te del sistema de ventanas manejado por el 
\series bold
ConfigWindowManager
\series default
.
\end_layout

\begin_layout Standard
Por otro lado se puede observar que existen 2 implementaciones de 
\shape italic
ConfigWindow
\shape default
 llamadas 
\series bold
CameraConfigWindow
\series default
 y 
\series bold
VideoFileConfigWindow
\series default
 que son utilizadas por el 
\shape italic
GUIWaveHeightIPS
\shape default
, ya sea para configurar la cámara o el archivo de vídeo dependiendo que
 se use como sistema de entrada (osea, como este configurado el 
\shape italic
ImageGenerator
\shape default
).
\end_layout

\begin_layout Standard
En el siguiente capitulo se dará información mas detallada sobre el funcionamien
to de cada una de las clases.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_disenio_WHIPS_GUI.png
	lyxscale 80
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diseño-de-clases-3"

\end_inset

Diseño de clases del 
\shape italic
WHIPS GUI.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Funcionamiento WHIPS Core
\end_layout

\begin_layout Standard

\shape italic
WHIPS Core
\shape default
 hace referencia a la unidad de procesamiento principal del 
\shape italic
ImageProcessingSystem
\shape default
 encargado de detectar la altura de la superficie libre del fluido.
 Esta representado por la clase 
\shape italic
WaveHeightIPS
\shape default
 la cual carga y coordina el procesamiento de las imágenes por medio de
 varias clases auxiliares.
\end_layout

\begin_layout Standard
El procedimiento del 
\shape italic
WHIPS Core
\shape default
 se lo puede describir como una serie de pasos realizados en un orden determinad
o.
 Estos pasos son:
\end_layout

\begin_layout Enumerate
Obtener una imagen del 
\shape italic
ImageGenerator
\shape default
 asociado a la clase (ya sea que este configurado para tomar imágenes desde
 un archivo o de una vídeo cámara).
\end_layout

\begin_layout Enumerate
Procesar por medio del 
\shape italic
ImageAnalyzer
\shape default
 la imagen obtenida, estando este ultimo conformado por 4 
\shape italic
ImageProc
\shape default
essor:
\end_layout

\begin_deeper
\begin_layout Itemize

\series bold
IRectifier
\series default
: Encargado de transformar el sistema de coordenadas de la imagen tomada
 en un sistema de coordenadas 
\begin_inset Quotes eld
\end_inset

conocido
\begin_inset Quotes erd
\end_inset

 alineado al plano sobre el cual se esta calculando la altura.
 En particular esta acción se realiza por medio del 
\shape italic
PerspectiveRectifier
\shape default
 utilizando el algoritmo 
\begin_inset Quotes eld
\end_inset


\shape italic
Perspective Transform
\shape default

\begin_inset Quotes erd
\end_inset

 explicado en el 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Perspective-transform"

\end_inset


\shape italic
\color black
 Perspective transform
\shape default
\color inherit
.
\end_layout

\begin_layout Itemize

\series bold
IClipping
\series default
: Encargado de realizar el recorte de la imagen correspondiente a la zona
 que se quiere analizar.
 Esto lo hace actualmente el 
\shape italic
MiddlePointC
\shape default
lipping el cual usa el punto de reposo de la superficie seleccionado por
 el usuario y un parámetro adicional 
\begin_inset Formula $k$
\end_inset

 que indica la cantidad de columnas a analizar.
 Lo que hace es simplemente descartar de la imagen de entrada, todos las
 columnas de píxeles que no estén contenidas entre el rango de columnas
 
\begin_inset Formula $\left[c.x-\frac{k}{2},c.x+\frac{k}{2}\right]$
\end_inset

, donde 
\begin_inset Formula $c$
\end_inset

 es el punto de reposo seleccionado por el usuario (y 
\begin_inset Formula $c.x$
\end_inset

 la coordenada en 
\begin_inset Formula $x$
\end_inset

 del punto 
\begin_inset Formula $c$
\end_inset

, correspondiente a la columna 
\begin_inset Formula $x$
\end_inset

 de la imagen).
 De esta forma ahorramos procesar información que no es requerida (en el
 
\shape italic
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Recortador"

\end_inset

 Recortador
\shape default
.
 se detalla en mayor profundidad)
\end_layout

\begin_layout Itemize

\series bold
IBorderDetector
\series default
: Tiene como objetivo modificar la imagen de entrada de forma tal que la
 resultante contenga solo contornos.
 En este caso se implemento el 
\shape italic
CannyBorderDetector
\shape default
 el cual transforma la imagen (de entrada) aplicándole en una primera instancia,
 un filtro que reduce la cantidad de colores (y por ende la cantidad de
 datos analizar o complejidad de la imagen).
 Luego aplica un segundo filtro denominado
\shape italic
 Gaussian Blur
\shape default
 (
\shape italic
\color black
ca
\color inherit
pitulo
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Gaussian-Blur"

\end_inset


\shape italic
\color black
 Gaussian Blur
\shape default
\color inherit
) para suavizar la imagen antes de realizar el análisis de contornos, que
 para lograrlo, aplica como ultimo paso, el algoritmo de 
\shape italic
Canny
\shape default
 (
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Canny-edge-detector"

\end_inset


\shape italic
\color black
 Canny edge detector
\shape default
\color inherit
).
 Dejando como resultado una imagen con solo contornos.
\end_layout

\begin_layout Itemize

\series bold
IAnalyzer
\series default
: Dada una imagen de contornos y una serie de parámetros, determina la altura
 de la superficie libre.
 La implementación de este 
\shape italic
ImageProcessor
\shape default
 se lo denomino 
\shape italic
WaveHeightAnalyzer
\shape default
 ya que se basa en el algoritmo 
\begin_inset Quotes eld
\end_inset


\shape italic
Wave height analyzer
\shape default

\begin_inset Quotes erd
\end_inset

 (
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Wave-height-analyzer"

\end_inset


\shape italic
 Wave height analyzer
\shape default
).
\end_layout

\end_deeper
\begin_layout Enumerate
Como ultimo paso, guarda el resultado devuelto por el 
\shape italic
IAnalyzer
\shape default
 en un archivo previamente establecido por el usuario.
\end_layout

\begin_layout Standard
Este procedimiento (pasos 1,2,3) se realizan dentro de un bucle hasta que
 el usuario indica finalizar, o el 
\shape italic
ImageGenerator
\shape default
 no puede obtener mas imágenes (que esto sucede cuando las imágenes son
 obtenidas de un archivo de vídeo).
\end_layout

\begin_layout Standard
Además, el 
\shape italic
WaveHeightIPS
\shape default
 brinda la posibilidad de realizar el análisis en el CPU o GPU si los correspond
ientes 
\shape italic
ImageProcessor
\shape default
 lo permiten.
 Para este caso en particular solo se implementó para procesar las imágenes
 en la CPU.
\end_layout

\begin_layout Subsubsection
Funcionamiento WHIPS GUI
\end_layout

\begin_layout Standard
Este modulo tiene, a grandes rasgos, 3 finalidades distintas, estas son:
\end_layout

\begin_layout Enumerate
Brindar al usuario una interfaz gráfica para poder configurar de forma fácil
 y ágil los parámetros que requieren los 
\shape italic
ImageProcessor
\shape default
 del 
\shape italic
WHIPS Core
\shape default
 mencionados anteriormente.
 
\end_layout

\begin_layout Enumerate
Mostrar el proceso de computo en tiempo real (indicar de forma interactiva
 la altura de la superficie de ola calculada en los últimos segundos).
\end_layout

\begin_layout Enumerate
Mostrar y procesar los datos obtenidos una vez finalizado el proceso de
 captura.
\end_layout

\begin_layout Standard
El 
\shape italic
WHIPS GUI
\shape default
 se basa en una clase principal (
\shape italic
GUIWaveHeightIPS
\shape default
) la cual carga y ordena el sistema de ventanas como así también la inicializaci
ón y ejecución del 
\shape italic
WHIPS Core
\shape default
.
 Debido a la forma en la que los 
\shape italic
ImageProcessor
\shape default
 deben ser configurados (en un orden secuencial, donde en general la configuraci
ón de uno depende de como fueron configurados los anteriores), la clase
 
\shape italic
ConfigWindowManager
\shape default
 fue diseñada para cumplir con tal fin, permitiendo solo pasar a la siguiente
 fase de configuración (y por ende a la siguiente 
\shape italic
ConfigWindow
\shape default
) si y solo si se configuro correctamente el paso (
\shape italic
ConfigWindow
\shape default
) que esta siendo mostrado actualmente.
\end_layout

\begin_layout Standard
Adicionalmente, para facilitar aun mas la finalidad (1), el 
\shape italic
GUIWaveHeightIPS
\shape default
 brinda la posibilidad de cargar y guardar las configuraciones de las distintas
 
\shape italic
ConfigWindow
\shape default
, que en caso de realizar múltiples ensayos con la misma configuración (como
 es usual) ahorra tiempo al usuario evitando restablecer todos los parámetros
 de nuevo.
\end_layout

\begin_layout Standard
Por otro lado se brinda la posibilidad de manejar sesiones donde se pueda
 guardar fecha, autor, nombre, descripción, entre otros, asociadas a un
 experimento dado.
\end_layout

\begin_layout Standard
A manera esquemática, podemos mostrar la funcionalidad (secuencia de pasos)
 que brinda este modulo por medio del diagrama (conjunción de diagrama de
 clases y diagrama de flujo) de la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-representativo-del"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_whips_gui_flujo.png
	lyxscale 60
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Esquema-representativo-del"

\end_inset

Esquema funcional y estructural representativo del 
\shape italic
WHIPS
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En un principio, se le brinda al usuario la posibilidad de crear o cargar
 una sesión ya existente.
 Puede además, ejecutar directamente la ventana de análisis de datos (
\shape italic
DataAnalyzeWindow
\shape default
), la cual funciona como modulo aparte (puede mostrarse datos ya obtenidos
 de una sesión anterior, o de datos externos no necesariamente de una sesión
 anterior).
 Esto esta relacionado con la funcionalidad (3) anteriormente enumerada.
\end_layout

\begin_layout Standard
Dependiendo del tipo de entrada seleccionado (que puede ser una cámara de
 vídeo o un archivo), el sistema muestra la ventana de configuración correspondi
ente (en la figura, 
\shape italic
VideoFileConfigWindow
\shape default
 y 
\shape italic
CameraConfigWindow
\shape default
).
 Luego se pasa al ciclo de configuración de los diferentes 
\shape italic
ImageProcessor
\shape default
 del 
\shape italic
WHIPS
\shape default
 
\shape italic
Core
\shape default
, por medio de las ventanas de configuración 
\shape italic
GUIPerspectiveRectifier
\shape default
, 
\shape italic
GUIMiddlePointClipping
\shape default
 y 
\shape italic
GUICannyBorderDetector
\shape default
.
 Cabe destacar, que en el caso del tipo de entrada ser un archivo de vídeo,
 se muestra intercaladamente (entre cada una de estas ventanas) el 
\shape italic
VideoFileConfigWindow
\shape default
 para brindar la posibilidad de adelantar o retrasar el vídeo a la posición
 que se requiera (esto es de utilidad si las diferentes configuraciones
 necesarias están asociadas a distintos frames en el vídeo).
 Este conjunto de ventanas son utilizadas para lograr (1).
\end_layout

\begin_layout Standard
Por ultimo, una vez configurado todo los 
\shape italic
ImageProcessor
\shape default
, el usuario puede comenzar la captura de datos y observarlos en tiempo
 real gracias a la ventana 
\shape italic
GUIRealTimeDataDisplayer
\shape default
 (finalidad (2)).
\end_layout

\begin_layout Standard

\color black
En el siguiente capitulo se describe una serie de ensayos realizados donde
 se muestran las interfaces gráficas de cada una de las ventanas que componen
 al 
\shape italic
IPS GUI.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Aplicación en un canal 2D
\end_layout

\begin_layout Subsection
Canal de laboratorio
\begin_inset CommandInset label
LatexCommand label
name "sub:Canal-de-labortatorio"

\end_inset


\end_layout

\begin_layout Standard
Los ensayos que se llevaron a cabo en este trabajo se realizaron en el 
\shape italic
\color black
Laboratorio de Hidráulica
\begin_inset Foot
status open

\begin_layout Plain Layout

\color black
http://www.efn.uncor.edu/investigacion/hidraulica/
\end_layout

\end_inset


\shape default
\color inherit
 de la 
\shape italic
\color black
Facultad de Ciencias Exactas, Físicas y Naturales (UNC)
\shape default
.
 
\end_layout

\begin_layout Standard
En la 
\shape italic
\color black
Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Canal-del-Laboratorio"

\end_inset


\shape default
\color inherit
 se muestra el canal en donde se realizaron los experimentos, el cual posee
 una longitud de 25 metros, 0.50 m de ancho y 0.80 m de altura.
 Cuenta con una pala mecánica 
\shape italic
\color black
HR Wallingford
\shape default
\color inherit

\begin_inset Foot
status open

\begin_layout Plain Layout
http://equipment.hrwallingford.co.uk/
\end_layout

\end_inset

 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Pala-mecánica-HR"

\end_inset

) la cual genera los oleajes que se quieran simular introduciendo por computador
a 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T$
\end_inset

 (altura y periodo de onda respectivamente, 
\shape italic
\color black
capitulo
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Hidrodinamica-Introduccion"

\end_inset


\shape italic
\color black
 Introducción
\shape default
\color inherit
) en el caso del oleaje regular, mientras que el oleaje irregular se lo
 simula estableciendo los valores 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $T_{p}$
\end_inset

 y 
\begin_inset Formula $\gamma=3.3$
\end_inset

 con espectro JONSWAP.

\shape italic
\color blue
 
\end_layout

\begin_layout Standard
Por otro lado, el software utilizado por la pala mecánica permite extraer
 el espectro de la señal medido por los sensores y el valor de 
\begin_inset Formula $H_{s}$
\end_inset

 del oleaje simulado, que sirve como referencia comparativa para los datos
 capturados por el sistema implementado para este trabajo.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_canal_real.png
	width 40page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Canal-del-Laboratorio"

\end_inset

Canal del Laboratorio de Hidráulica F.C.E.F.yN.
 donde se realizaron los ensayos.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_pala_mecanica.png
	width 40page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Pala-mecánica-HR"

\end_inset

Pala mecánica 
\shape italic
\color black
HR Wallingford
\shape default
\color inherit
 generadora de oleaje bidimensional.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Para el caso del sistema implementado en este trabajo, las mediciones de
 la altura de ola se realizaron utilizando una cámara Logitech C910
\begin_inset Foot
status open

\begin_layout Plain Layout
http://www.logitech.com/es-es/webcam-communications/webcams/devices/6816
\end_layout

\end_inset

 y en paralelo utilizando los sensores de nivel resistivo (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Sensor-resistivo."

\end_inset

), los cuales tienen la capacidad de realizar un muestreo de 100 tomas por
 segundo (o equivalentemente 100 Hz).
 
\end_layout

\begin_layout Subsection
Preparación de las mediciones
\end_layout

\begin_layout Standard
Para poder realizar una medición se debe preparar tanto el canal (y el entorno)
 como el sistema.
 En una primera instancia se debe acondicionar el canal de forma tal que
 se pueda alcanzar una máxima diferenciación de la superficie libre, esto
 es, conseguir el mayor contraste posible entre el liquido y el aire (variando
 las posiciones e intensidades de la luz que afectan la zona a medir en
 el canal y utilizando distintos tipos de papeles o contacts sobre la cara
 opuesta a medir del canal, evitando de esta manera, capturar objetos que
 se encuentran por detrás del mismo).
\end_layout

\begin_layout Standard
Por otro lado se debe configurar el sistema.
 Vamos a mostrar el caso en el que se realiza una medición nueva (desde
 cero), los pasos a seguir son:
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Crear una nueva sesión (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana:-crear/cargar-una"

\end_inset

)
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_session.png
	width 50page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana:-crear/cargar-una"

\end_inset

Ventana: crear/cargar una sesión.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Configuración de la cámara utilizada (foco, zoom, brillo, etc), como se
 lo muestra en la 
\shape italic
\color black
Figura 
\shape default
\color inherit

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana-de-configuracion"

\end_inset

.
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_conf_cam1.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana-de-configuracion"

\end_inset

Ventana de configuración (
\shape italic
\color black
CameraConfigWindow
\shape default
\color inherit
): Configuración de la cámara.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Configurar la escala y zona de análisis (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana-de-conf_perspective"

\end_inset

).
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_conf_rect.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana-de-conf_perspective"

\end_inset

Ventana de configuración (
\shape italic
\color black
GUIPerspectiveRectifier
\shape default
\color inherit
): Configuración de zona de análisis, en este caso el rectángulo blanco
 (donde los 4 puntos rojos en cada uno de los vértices fueron seleccionados
 por el usuario).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Configurar el punto de reposo de la ola (para lograr esto el nivel del fluido
 debe estar en estado estacionario).
 La ventana asociada se la muestra en la 
\shape italic
\color black
Figura 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana-de-conf_midle_clip"

\end_inset

.

\shape default
\color inherit
 
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_conf_middle.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana-de-conf_midle_clip"

\end_inset

Ventana de configuración (
\shape italic
\color black
GUIMiddlePointClipping
\shape default
\color inherit
): Configuración del punto de reposo de ola (indicado por el pequeño punto
 rojo seleccionado por el usuario).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Itemize
Configuración de los parámetros del algoritmo para la detección de contornos
 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana-de-conf_canny"

\end_inset

).
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_conf_canny.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana-de-conf_canny"

\end_inset

Ventana de configuración (
\shape italic
\color black
GUICannyBorderDetector
\shape default
\color inherit
): Configuración de los parámetros asociados al algoritmo de 
\shape italic
\color black
Canny
\shape default
\color inherit
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Una vez configurado el sistema se prosigue a producir el oleaje que se quiere
 analizar por medio de la pala mecánica antes mencionada (introduciendo
 por computadora los valores 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T$
\end_inset

 en el caso de oleaje regular y 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $T_{p}$
\end_inset

 y 
\begin_inset Formula $\gamma=3.3$
\end_inset

 con espectro JONSWAP para oleaje irregular) y por medio de una ultima ventana
 (
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ventana-de-conf_realTime"

\end_inset

) se le brinda al usuario la posibilidad de comenzar a capturar las imágenes
 y observar en tiempo real los datos procesados.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_conf_realTime.png
	lyxscale 50
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ventana-de-conf_realTime"

\end_inset

Ventana (
\shape italic
\color black
GUIRealTimeDataDisplayer
\shape default
\color inherit
): Muestra los datos procesados en tiempo real al igual que las imágenes
 capturadas por el dispositivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Ensayos propuestos
\end_layout

\begin_layout Standard
En hidráulica marítima normalmente se realizan ensayos con oleajes regulares
 (monocromáticos) o irregulares (con muchas frecuencias asociadas).
 Debido a que el oleaje irregular tiene mayor peso en el estudio ingenieril
 (ya que es mas representativo de la realidad) y en el caso del sistema
 es el mas interesante para medir (debido a su irregularidad), se decidió
 realizar la mayoría de los ensayos en base a oleajes irregulares.
 Por otro lado se intento mantener constante los factores externos (como
 luz del entorno, intensidad, zona de captura) a excepción de la posición
 de la cámara en donde se trabajo con 2 ubicaciones distintas con el fin
 de verificar como reaccionaba el sistema (en cuanto a precisión y calidad
 de los datos obtenidos en base a los capturados por el sensor resistivo)
 para cada una de éstas.
\end_layout

\begin_layout Standard
Los ensayos propuestos para la primera ubicación de la cámara (
\shape italic
\color black
P1
\shape default
\color inherit
, 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posicion-1:-El"

\end_inset

) se listan a continuación:
\end_layout

\begin_layout Itemize

\series bold
EN1
\series default
: Capturar la altura de ola en un oleaje regular con parámetros 
\begin_inset Formula $H=6\; cm$
\end_inset

 y 
\begin_inset Formula $f=1\; Hz$
\end_inset

.
\end_layout

\begin_layout Itemize

\series bold
EN2
\series default
: Capturar la altura de ola en un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos.
\end_layout

\begin_layout Itemize

\series bold
EN3
\series default
: Capturar la altura de ola en un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos.
\end_layout

\begin_layout Standard
Para la segunda posición de la cámara (
\shape italic
\color black
P2
\shape default
\color inherit
, 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posicion-2:-El"

\end_inset

):
\end_layout

\begin_layout Itemize

\series bold
EN4
\series default
: Capturar la altura de ola en un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos.
\end_layout

\begin_layout Itemize

\series bold
EN5
\series default
: Capturar la altura de ola en un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_resultados_pos_camara2.png
	lyxscale 50
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Posicion-1:-El"

\end_inset

Posición 1: El nivel de reposo de la superficie libre se encuentra aproximadamen
te a la altura del lente de la cámara.
 Ésta se encuentra a una distancia 
\begin_inset Formula $c\approx0.5\; m$
\end_inset

 con respecto a la pared del canal (
\shape italic
\color black
zona de captura
\shape default
\color inherit
).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_resultados_pos_camara.png
	lyxscale 50
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Posicion-2:-El"

\end_inset

Posición 2: El nivel de reposo de la superficie libre se encuentra por encima
 del lente de la cámara.
 Ésta se encuentra posicionada a 
\begin_inset Formula $c\approx0.90\; m$
\end_inset

 de la pared del canal (
\shape italic
\color black
zona de captura
\shape default
\color inherit
).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Posiciones de la cámara en los distintos ensayos realizados.
 En ambas figuras se muestra la posible altura 
\begin_inset Formula $h$
\end_inset

 de la superficie libre (tanto por encima como por debajo del nivel de reposo).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Donde recordando que 
\begin_inset Formula $H$
\end_inset

 es la altura de ola (en el caso de un oleaje regular), 
\begin_inset Formula $H_{s}$
\end_inset

 es la altura de ola significante en un oleaje irregular, y 
\begin_inset Formula $f_{p}$
\end_inset

 es la frecuencia de pico o la frecuencia en la que el espectro del oleaje
 contiene mayor energía.
\end_layout

\begin_layout Standard
En conjunto con los ensayos propuestos anteriormente, se realizarían mediciones
 utilizando los sensores resistivos con los que cuenta el laboratorio con
 el fin de poder comparar los resultados obtenidos.
 De manera esquemática, como se lo muestra en la 
\shape italic
Figura
\shape default
\color black
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Esquema-de-la"

\end_inset


\color inherit
, podemos observar la columna de píxeles analizados por el sistema para
 detectar la altura de ola al costado del sensor resistivo (debido a que
 el sistema se basa en detectar contornos, la columna de píxeles no puede
 estar sobre el sensor).
 A causa de esto, los resultados obtenidos por el sistema implementado se
 encuentran desfasados en el tiempo con respectos a los del sensor resistivo,
 por lo que, es necesario modificar (previamente a la comparación) los datos
 de manera tal que queden sincronizados en el tiempo.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_zona_captura_sensor.png
	lyxscale 55
	width 40page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Esquema-de-la"

\end_inset

Esquema de la zona de captura y analizada por el sistema implementado en
 el canal de laboratorio.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Mediciones y análisis de los resultados
\end_layout

\begin_layout Subsubsection
Que medimos?
\end_layout

\begin_layout Standard
En cada uno de los ensayos realizados (mencionados anteriormente) el sistema
 implementado captura la altura de ola a lo largo del tiempo en un punto
 determinado del canal.
 Este conjunto de datos (altura de ola en el tiempo) fue comparado con los
 obtenidos por los sensores resistivos utilizados en el laboratorio con
 el fin de poder determinar la precisión del sistema implementado.
 En base a esto se puede realizar dos tipos de comparaciones distintas:
 a) los datos 
\begin_inset Quotes eld
\end_inset

crudos
\begin_inset Quotes erd
\end_inset

 (altura en el tiempo); b) realizar un análisis espectral del oleaje obtenido
 por el sistema y por el sensor y comparar los parámetros asociados al mismo
 (
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $f$
\end_inset

 en el caso del oleaje regular, o 
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $f_{p}$
\end_inset

 en conjunto con los gráficos espectrales asociados -
\begin_inset Formula $S(f)$
\end_inset

 y 
\shape italic
JONSWAP
\shape default
- a los oleajes irregulares).
\end_layout

\begin_layout Standard
Todas las comparaciones llevadas a cabo se realizaron por medio del 
\begin_inset Quotes eld
\end_inset

modulo
\begin_inset Quotes erd
\end_inset

 de análisis desarrollado en este trabajo, el cual se muestra en la 
\shape italic
\color black
Figura
\shape default
\color inherit
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:DataAnalyzeWindow:-Ventana-en"

\end_inset

.
 En la parte superior se muestran los datos crudos obtenidos asociados a
 un oleaje irregular, por debajo a la derecha se observa en rojo el calculo
 del espectro 
\begin_inset Formula $S(f)$
\end_inset

 y en color magenta el espectro de 
\shape italic
\color black
JONSWAP
\shape default
\color inherit
 (
\shape italic
\color black
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Descripcion-espectral-del"

\end_inset

 Descripción espectral del oleaje.
\shape default
\color inherit
).
 En la parte inferior izquierda se muestran además otros parámetros calculados
 como 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $T_{p}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

.
 Esta ventana permite además cargar mas de un conjunto de datos en simultaneo
 lo que permite comparar hasta tres oleajes diferentes al mismo tiempo con
 sus respectivos espectros y parámetros asociados.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/img_analyz_win.png
	lyxscale 60
	width 60page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:DataAnalyzeWindow:-Ventana-en"

\end_inset


\shape italic
\color black
DataAnalyzeWindow
\shape default
\color inherit
: Ventana en donde se realizan los análisis espectrales y comparaciones
 de los datos obtenidos (por el sistema implementado o por el sensor resistivo).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En los siguientes subcapítulos se detalla la comparación realizada en cada
 uno de los ensayos realizados.
\end_layout

\begin_layout Subsubsection
EN1: Oleaje regular
\end_layout

\begin_layout Standard
Se trata de un ensayo en donde se simula un oleaje con una altura de ola
 de 6 cm (
\begin_inset Formula $H=6\; cm$
\end_inset

) a una frecuencia de 1Hz (
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

), esto es, se genera una ola de 6 cm de altura por segundo (por medio de
 la pala mecánica mencionada anteriormente).
\end_layout

\begin_layout Standard
En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-regular_crudo"

\end_inset

 podemos ver los datos obtenidos por ambos sensores superpuestos en un mismo
 gráfico, en 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-regular_total"

\end_inset

 se observan los resultados obtenidos a lo largo de todo el ensayo, donde
 a simple vista la altura de ola capturada por la cámara difiere por encima
 (0,0047 metros aproximadamente) como por debajo (0,0074 metros aproximadamente)
 de la altura capturada por el sensor en base al punto de reposo (valor
 0 m en el gráfico).
 Podemos observar además en 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ampliacion-regular_total"

\end_inset

 la presencia de ruido durante la captura realizada por el sistema, en donde
 la gran mayoría de las ondas (la parte inferior o 
\shape italic
seno
\shape default
 de la ola -color rojo-), esta cortada abruptamente (por ejemplo las primeras
 4 olas muestran un corte abrupto en su parte inferior, mientras que la
 5ta y 6ta no).
 La causa de esto es el incorrecto posicionamiento de la cámara como será
 explicado en el apartado 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Consideraciones-generales"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/regular1.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-regular_total"

\end_inset

Datos de los 5 minutos de captura por ambos métodos y superpuestos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/regular2.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ampliacion-regular_total"

\end_inset

Ampliación (zoom) de una fracción de los datos capturados por ambos métodos
 y superpuestos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-regular_crudo"

\end_inset

Comparación entre los datos crudos obtenidos por ambos métodos (cámara y
 sensor resistivo) de un oleaje regular.
 En color rojo se muestra el obtenido por el sistema implementado (vídeo
 cámara) y en verde el capturado por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por otro lado se obtuvieron los siguientes valores de 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $f$
\end_inset

 para cada uno de los sistemas de medición:
\end_layout

\begin_layout Standard
\align center
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features booktabs="true">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Método
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $f\;(Hz)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sensor resistivo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.051
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sistema implementado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.041
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.984
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Comparación de los valores 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $f$
\end_inset

 del oleaje regular realizado en 
\series bold
EN1
\series default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
EN2: Oleaje irregular de 5 minutos
\end_layout

\begin_layout Standard
Para este ensayo se simulo un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos por medio de la pala mecánica.
 Los datos capturados de la altura de ola por ambos métodos (sistema implementad
o y sensor resistivo) se muestran en la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-crudos-capturados-1"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/irreg_5min_pos1_crudos.png
	lyxscale 50
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-obtenidos-por-2"

\end_inset

Datos obtenidos durante los 5 minutos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/irreg_5min_pos1_zoom.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-obtenidos-por-3"

\end_inset

Datos obtenidos durante 50 segundos (segundo 28 al 48 aproximadamente).
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-crudos-capturados-1"

\end_inset

Superposición de los datos obtenidos por el sistema implementado (en rojo)
 y el sensor resistivo (en verde) del oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos (
\series bold
EN2
\series default
).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Como se puede observar (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-obtenidos-por-3"

\end_inset

), en la gran mayoría de de los 
\shape italic
senos
\shape default
 (parte inferior) de las olas, el sistema implementado difiere bastante
 (hasta 0,0153 metros aproximadamente en los peores casos) con respecto
 al obtenido por el sensor resistivo.
 Por otro lado se puede ver la presencia de pequeños saltos a lo largo de
 la linea roja del gráfico, esto es otro problema relacionado con la velocidad
 de captura de la cámara el cual se detalla en el capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Consideraciones-generales"

\end_inset

.
\end_layout

\begin_layout Standard
Por otro lado (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-de-los"

\end_inset

) se comparan los espectros obtenidos por el sensor resistivo y por el sistema.
 Claramente se puede observar (a través del espectro de 
\shape italic
JONSWAP
\shape default
) que por un lado la simetría de ambos espectros se asemeja, pero que el
 asociado a los datos obtenidos por el sistema implementado es inferior
 al del obtenido por los del sensor resistivo (como se lo percibe en la
 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-obtenidos-por-3"

\end_inset

 en donde las ondas capturadas por el sensor resistivo poseen una mayor
 amplitud que las capturadas por el sistema).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/irreg_5min_pos1_espectro.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-de-los"

\end_inset

Espectros calculados para los datos obtenidos por ambos métodos (sistema
 implementado y sensor resistivo) para un oleaje irregular con parámetros
 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos (
\series bold
EN2
\series default
).
 En verde (y negro) se observa el espectro resultado (y espectro de 
\shape italic
JONSWAP
\shape default
 respectivamente) de los datos capturados por el sensor resistivo mientras
 que en rojo (y magenta) el espectro calculado (y espectro de 
\shape italic
JONSWAP
\shape default
) por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Se calcularon además los parámetros de interés (
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

, 
\begin_inset Formula $T_{p}$
\end_inset

) asociados al oleaje capturado por ambos métodos, como se lo muestra en
 la siguiente tabla:
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features booktabs="true">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Método
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H_{s}\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $T_{p}\;(s)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sensor resistivo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.040
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.024
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.974
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sistema implementado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.034
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.016
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.975
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Comparación de los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 asociados a los datos capturados por el sistema implementado y el sensor
 resistivo en el ensayo 
\series bold
EN2
\series default
.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Claramente se observa una gran diferencia entre las alturas de olas calculadas
 (
\begin_inset Formula $H$
\end_inset

), mientras que el periodo de pico (
\begin_inset Formula $T_{p}$
\end_inset

) se asemeja bastante.
\end_layout

\begin_layout Subsubsection
EN3: Oleaje irregular de 30 minutos
\end_layout

\begin_layout Standard
En general, los ensayos realizados en ingeniería (y en el laboratorio) duran
 alrededor de los 30 minutos.
 Con este ensayo se puso a prueba la factibilidad de capturar durante un
 periodo relativamente prolongado de tiempo la altura de ola, debido a que
 otras técnicas anteriormente utilizados en el laboratorio no eran capaces
 de hacerlo por falta de memoria o velocidad de computo (solo se lograba
 realizar un vídeo de 10 minutos con su posterior procesamiento de aproximadamen
te unos 30 minutos).
 
\end_layout

\begin_layout Standard
Para este ensayo (oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 y duración de 30 minutos) se capturaron los datos mostrados en la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-crudos-capturados-1-1"

\end_inset

.
 A grandes rasgos se puede ver que nuevamente los 
\shape italic
senos
\shape default
 (parte inferior de las olas) difieren en gran medida (los datos obtenidos
 con el sistema son menores que los del sensor resistivo).
 Además se puede observar (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Datos-obtenidos-por-3-1"

\end_inset

) la existencia de cambios repentinos de una 
\shape italic
cresta
\shape default
 (parte superior de la ola) a un 
\shape italic
sen
\shape default
o cerca del segundo 17.5 causado por una errónea detección de la altura de
 ola (explicado en el 
\shape italic
capitulo
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Consideraciones-generales"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30_pos1_datos.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-obtenidos-por-2-1"

\end_inset

Datos obtenidos durante los 30 minutos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30_pos1_zoomed.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-obtenidos-por-3-1"

\end_inset

Datos obtenidos durante los 30 primeros segundos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Datos-crudos-capturados-1-1"

\end_inset

Superposición de los datos obtenidos por el sistema implementado (en rojo)
 y el sensor resistivo (en verde) del oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN3
\series default
).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En las 
\shape italic
Figuras
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Espectros-calculados-para"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-de-los-2"

\end_inset

 se muestran los respectivos espectros, donde se observa por medio del espectro
 de JONSWAP una diferencia mayor que los ensayos anteriores en la simetría
 y altura del mismo.
 Por medio de los parámetros mostrados en la 
\shape italic
Tabla
\shape default
 
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "tab:comp_en3"

\end_inset

 
\color inherit
se puede apreciar con mayor detalle esto.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p1_e1.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectro-calculado-por-3"

\end_inset

Espectros asociado a los datos capturados por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p1_e2.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectro-calculado-por-1-2"

\end_inset

Espectros asociado a los datos capturados por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectros-calculados-para"

\end_inset

Espectros calculados para los datos obtenidos por ambos métodos (sistema
 implementado y sensor resistivo) para un oleaje irregular con parámetros
 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN3
\series default
).
 
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_pos1_espectros.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Superposicion-de-los"

\end_inset

Superposición de los espectros de ambos métodos.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-de-los-2"

\end_inset

Espectros calculados para los datos obtenidos por ambos métodos (sistema
 implementado y sensor resistivo) para un oleaje irregular con parámetros
 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN3
\series default
).
 En verde (y negro) se observa el espectro resultado (y espectro de 
\shape italic
JONSWAP
\shape default
 respectivamente) de los datos capturados por el sensor resistivo mientras
 que en rojo (y magenta) el espectro calculado (y espectro de 
\shape italic
JONSWAP
\shape default
) por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features booktabs="true">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Método
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H_{s}\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $T_{p\;(s)}$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sensor resistivo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.040
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.023
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.011
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sistema implementado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.033
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.015
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.973
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:comp_en3"

\end_inset

Comparación de los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 asociados a los datos capturados por el sistema implementado y el sensor
 resistivo en el ensayo 
\series bold
EN3
\series default
.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
EN4: Oleaje irregular de 5 minutos
\end_layout

\begin_layout Standard
A diferencia del ensayo anterior de 5 minutos (
\series bold
EN2
\series default
), este se realizo con la cámara en una posición distinta (
\shape italic
Figura 
\shape default

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posicion-2:-El"

\end_inset

) logrando mejores resultados debido a que al estar la cámara mas alejada
 la interferencia detectada (junto con la velocidad de captura de la cámara)
 es menor (en el 
\shape italic
capitulo
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Consideraciones-generales"

\end_inset

 se detallan las causas).
 En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Superposicion-en4"

\end_inset

 se pueden observar los resultados obtenidos por ambos métodos.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg5min_p2_datos.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Datos obtenidos durante los 5 minutos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg5min_p2_zoomed.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Datos obtenidos durante 38 segundos (del segundo 126 al 164).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Superposicion-en4"

\end_inset

Superposición de los datos obtenidos por el sistema implementado (en rojo)
 y el sensor resistivo (en verde) del oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos (
\series bold
EN4
\series default
) con la cámara ubicada a 
\begin_inset Formula $90\; cm$
\end_inset

 del canal.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Se puede ver que los datos coinciden en su gran mayoría (donde la máxima
 diferencia encontrada es de 0,0055 metros), además de que no se perciben
 a grandes rasgos cambios abruptos como en los casos anteriores.
 Si ahora observamos los espectros asociados a los datos (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-de-los-1"

\end_inset

) podemos decir que se asemejan tanto en simetría como amplitud con un pequeño
 desfasaje sobre el eje 
\begin_inset Formula $x$
\end_inset

 (en el espectro de 
\shape italic
JONSWAP
\shape default
 asociado a los datos capturados por el sistema en base al generado por
 los datos del sensor resistivo) y de menor amplitud (causado por la diferencia
 en los 
\shape italic
senos
\shape default
 detectados de las olas).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg5min_p2_esp.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-de-los-1"

\end_inset

Espectros calculados para los datos obtenidos por ambos métodos (sistema
 implementado y sensor resistivo) para un oleaje irregular con parámetros
 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 5 minutos (
\series bold
EN2
\series default
).
 En verde (y negro) se observa el espectro resultado (y espectro de 
\shape italic
JONSWAP
\shape default
 respectivamente) de los datos capturados por el sensor resistivo mientras
 que en rojo (y magenta) el espectro calculado (y espectro de 
\shape italic
JONSWAP
\shape default
) por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En la siguiente tabla (
\shape italic
Tabla
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:comp_en4"

\end_inset

) podemos observar nuevamente la similitud de los 3 valores de interés.
\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features booktabs="true">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Método
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H_{s}\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $T_{p}\;(s)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sensor resistivo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.042
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.024
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.987
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sistema implementado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.041
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.023
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.978
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:comp_en4"

\end_inset

Comparación de los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 asociados a los datos capturados por el sistema implementado y el sensor
 resistivo en el ensayo 
\series bold
EN4
\series default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
EN5: Oleaje irregular de 30 minutos
\end_layout

\begin_layout Standard
En este ensayo se simulo un oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos y posicionando la cámara a unos 
\begin_inset Formula $90\; cm$
\end_inset

 del canal (como lo muestra la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posicion-2:-El"

\end_inset

).
 A diferencia del ensayo anterior, se decidió modificar la configuración
 interna del algoritmo de detección de contornos (
\shape italic
Canny, capitulo
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Canny-edge-detector"

\end_inset

.
 
\shape italic
Canny edge detector
\shape default
) estableciendo valores de umbrales mas bajos de forma tal que la detección
 sea mas sensible.
 Los resultados obtenidos se muestran en la 
\shape italic
Figura
\shape default
 
\shape italic
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Superposicion-en4-1"

\end_inset


\shape default
\color inherit
.
 Se puede observar que a diferencia de 
\series bold
EN3 
\series default
(el otro ensayo de 30 minutos) se obtuvieron mejores resultados (con mayor
 precisión) pero no así en comparación al ensayo anterior (
\series bold
EN4
\series default
).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p2_datos.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Datos obtenidos durante los 30 minutos.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p2_zoomed.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Datos obtenidos durante 20 segundos (del segundo 840 al 900).
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Superposicion-en4-1"

\end_inset

Superposición de los datos obtenidos por el sistema implementado (en rojo)
 y el sensor resistivo (en verde) del oleaje irregular con parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN5
\series default
) con la cámara ubicada a 
\begin_inset Formula $90\; cm$
\end_inset

 del canal.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
En las 
\shape italic
Figuras
\shape default
 
\shape italic
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Espectros-calculados-para-1"

\end_inset


\shape default
\color inherit
 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-de-los-2-1"

\end_inset

 se pueden observar los distintos espectros resultantes y en la 
\shape italic
Tabla 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:comp_en4-1"

\end_inset


\shape default
 los valores de los parámetros de interés.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30_p2_e1.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectro-calculado-por-3-1"

\end_inset

Espectros asociado a los datos capturados por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p2_e2.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectro-calculado-por-1-2-1"

\end_inset

Espectros asociado a los datos capturados por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Espectros-calculados-para-1"

\end_inset

Espectros calculados para los datos obtenidos por ambos métodos (sistema
 implementado y sensor resistivo) para un oleaje irregular con parámetros
 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN5
\series default
).
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/img_irreg30min_p2_e12.png
	lyxscale 80
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-de-los-2-1"

\end_inset

Espectros superpuestos calculados de los datos obtenidos por ambos métodos
 (sistema implementado y sensor resistivo) para un oleaje irregular con
 parámetros 
\begin_inset Formula $H_{s}=5\; cm$
\end_inset

 y 
\begin_inset Formula $f_{p}=1\; Hz$
\end_inset

 durante 30 minutos (
\series bold
EN5
\series default
).
 En verde (y negro) se observa el espectro resultado (y espectro de 
\shape italic
JONSWAP
\shape default
 respectivamente) de los datos capturados por el sensor resistivo mientras
 que en rojo (y magenta) el espectro calculado (y espectro de 
\shape italic
JONSWAP
\shape default
) por el sistema.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="4">
<features booktabs="true">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Método
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H_{s}\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $H\;(m)$
\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Formula $T_{p}\;(s)$
\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sensor resistivo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.046
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.027
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1.011
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
sistema implementado
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.047
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.024
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
0.966
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:comp_en4-1"

\end_inset

Comparación de los parámetros 
\begin_inset Formula $H_{s}$
\end_inset

, 
\begin_inset Formula $H$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 asociados a los datos capturados por el sistema implementado y el sensor
 resistivo en el ensayo 
\series bold
EN5
\series default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Consideraciones-generales"

\end_inset

Consideraciones generales
\end_layout

\begin_layout Subsubsection
Ángulo y posición de captura
\end_layout

\begin_layout Standard
Uno de los posibles errores a la hora de detectar la altura de la superficie
 libre se debe a la posición y ángulo de la cámara con respecto al nivel
 en reposo del fluido en el canal.
 Como se señalo anteriormente, los primeros ensayos se realizaron en la
 posición P1 (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posicion-1:-El"

\end_inset

), en donde la lente de la cámara se encuentra casi a la altura de la superficie
 libre (en reposo).
 Cuando la pala mecánica comienza a producir el oleaje a medir, la superficie
 libre se desplaza por encima y por debajo del punto de reposo (como lo
 indican las flechas de la figura).
 En el momento en el que la superficie libre se encuentra por debajo de
 la altura del lente de la cámara (flecha hacia abajo o 
\begin_inset Formula $-h$
\end_inset

), se produce un efecto no deseado que es la captura de la superficie del
 fluido a lo largo del ancho del canal, la cual genera reflejos e introduce
 ruido a la hora de detectar los contornos de la ola.
\end_layout

\begin_layout Standard
En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Altura-de-la"

\end_inset

, se muestra por encima la imagen capturada por la cámara de vídeo antes
 de ser procesada, y por debajo luego de ser procesada y aplicado el algoritmo
 de detección de contornos (
\shape italic
Canny
\shape default
).
 Esta figura hace referencia a la altura de ola por encima del nivel de
 reposo donde se captura de forma correcta.
 En cambio, en la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Altura-de-la-1"

\end_inset

, se puede observar el otro caso, en donde la superficie del fluido esta
 por debajo del lente de la cámara y observándose el ruido introducido en
 la detección de contornos por medio de una doble linea con trozos de bordes
 entre las mismas provenientes del reflejo mencionado anteriormente.
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_pos_captura_1.png
	lyxscale 80
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Altura-de-la"

\end_inset

Errores introducidos por la posición y ángulo de la cámara a la hora de
 detectar los contornos de la superficie libre.
 Altura de la superficie libre por encima del lente de la cámara.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_pos_captura_2.png
	lyxscale 80
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Altura-de-la-1"

\end_inset

Errores introducidos por la posición y ángulo de la cámara a la hora de
 detectar los contornos de la superficie libre.
 Altura de la superficie libre por debajo del lente de la cámara.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Esta situación (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Altura-de-la-1"

\end_inset

), en donde se detecta una 
\begin_inset Quotes eld
\end_inset

doble superficie
\begin_inset Quotes erd
\end_inset

 puede generar una falsa detección de la altura de ola (mas específicamente
 el 
\shape italic
seno
\shape default
 o parte inferior de la ola) dando como resultado una altura menor a la
 real como se lo puede ver en la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Errores-(remarcados-en-1"

\end_inset

.
 Se puede observar que las 
\shape italic
crestas
\shape default
 de las olas son detectadas correctamente mientras que los 
\shape italic
senos
\shape default
 no.
 En este caso se puede deducir que la posición del lente de la cámara se
 encuentra aproximadamente a la altura del borde superior de cada uno de
 los rectángulos azules, que es el punto donde los datos comienzan a diferenciar
se (los obtenidos por el sistema -rojo- y los del sensor resistivo -verde-).
\end_layout

\begin_layout Standard
\align center
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_pos_captura_resultado.png
	lyxscale 80
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Errores-(remarcados-en-1"

\end_inset

Errores (remarcados en azul) introducidos por la posición y ángulo de la
 cámara a la hora de detectar los contornos de la superficie libre cuando
 la altura de la superficie libre se encuentra por debajo del lente de la
 cámara.
 En rojo se muestra los datos capturados por el sistema implementado mientras
 que en verde los del sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Claramente esto fue lo que sucedió en todos los ensayos realizados con la
 cámara ubicada en la posición P1 (
\series bold
EN1
\series default
, 
\series bold
EN2
\series default
, 
\series bold
EN3
\series default
).
\end_layout

\begin_layout Subsubsection
Velocidad de captura de la cámara
\end_layout

\begin_layout Standard
La velocidad de captura de la cámara juega un importante papel a la hora
 de poder detectar la superficie libre.
 En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Dos-capturas-realizadas"

\end_inset

 se muestran 2 imágenes (
\shape italic
Figuras
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-del-primer"

\end_inset

 y 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-del-segundo"

\end_inset

) capturando la misma ola en dos instantes de tiempos distintos y aplicándole
 el algoritmo de 
\shape italic
Canny 
\shape default
(detección de contornos) en ambos casos con los mismos parámetros de configuraci
ón (iguales valores de umbrales en ambas figuras).
 En el primer instante (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-del-primer"

\end_inset

) se puede observar como a la izquierda del sensor resistivo el contorno
 de la ola se observa de una manera difusa provocando que el algoritmo de
 
\shape italic
Canny
\shape default
 falle detectando el contorno de la misma (imagen inferior).
 En el segundo instante (
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-del-segundo"

\end_inset

) se puede ver que el contorno de la ola ahora se encuentra difuso a la
 derecha del sensor como también lo muestra la imagen luego de aplicar el
 algoritmo de 
\shape italic
Canny
\shape default
.
 Esta situación se reproduce en cualquier parte (no solo a la derecha e
 izquierda del sensor) debido a que la ola se mueve a lo largo de todo el
 canal.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_captura_1.png
	lyxscale 80
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-del-primer"

\end_inset

Comparación del primer instante de captura de la ola.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_captura_2.png
	lyxscale 80
	width 35page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Comparacion-del-segundo"

\end_inset

Comparación del segundo instante de captura de la ola.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\align center
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Dos-capturas-realizadas"

\end_inset

Dos capturas realizadas del movimiento de la ola antes y después de aplicar
 el algoritmo de detección de contornos en donde se muestra las posibles
 fallas de detección de la superficie libre.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Si ahora observamos 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Posibles-puntos-detectados"

\end_inset

, donde se muestra la imagen ya procesada con el algoritmo de 
\shape italic
Canny
\shape default
 y remarcando la zona de análisis en rojo (columnas de píxeles utilizadas
 por el algoritmo 
\shape italic
Wave height analyzer 
\shape default
mencionado en el 
\shape italic
capitulo 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Wave-height-analyzer"

\end_inset


\shape default
), ésta situación produce que el sistema, por la forma en la que fue implementad
o el algoritmo de la detección de altura (
\shape italic
Wave height analyzer
\shape default
) y teniendo en cuenta la distancia (en píxeles) existente entre los dos
 puntos P1 y P2 (en la imagen representada por 
\begin_inset Formula $d$
\end_inset

), de como resultado alguna de las siguientes dos situaciones:
\end_layout

\begin_layout Enumerate
Si la distancia 
\begin_inset Formula $d$
\end_inset

 entre P1 y P2 es mayor que 
\begin_inset Formula $V$
\end_inset

, esto es 
\begin_inset Formula $d>V$
\end_inset

 (recordando que 
\begin_inset Formula $V$
\end_inset

 es la constante que indica la máxima variación de altura de ola aceptable
 en píxeles, mencionada junto con el algoritmo), y asumiendo que no se encontró
 ningún contorno al rededor del punto sobre el cual se esta analizando (en
 este caso alrededor de P1), el algoritmo (y por ende el sistema) da como
 resultado la ultima altura de ola detectada (P1).
\end_layout

\begin_layout Enumerate
Si la distancia 
\begin_inset Formula $d$
\end_inset

 entre P1 y P2 es menor o igual que 
\begin_inset Formula $V$
\end_inset

 (
\begin_inset Formula $d\leq V$
\end_inset

 ), entonces el sistema al no encontrar contornos a los costados del punto
 P1, devuelve P2.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/velocidad_cam_error.png
	lyxscale 80
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Posibles-puntos-detectados"

\end_inset

Posibles puntos detectados por el sistema (P1, P2, los cuales se encuentran
 a una distancia d) como altura de ola en caso de que el algoritmo de contornos
 no detecte la superficie libre.
 
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Las consecuencias de la primera situación (1) antes descripta se las puede
 observar en la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Errores-(remarcados-en"

\end_inset

, donde los datos devueltos por el sistema (altura de ola) están graficados
 en rojo.
 Se puede ver que existen zonas (en azul) donde la altura permanece constante,
 esto es debido a que al no encontrar el contorno de la superficie libre,
 el sistema devuelve la ultima altura de ola detectada.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_captura_err1.png
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Errores-(remarcados-en"

\end_inset

Errores (remarcados en azul) causados por la imposibilidad de detectar la
 superficie libre, en donde el sistema devuelve durante cierto tiempo la
 altura de ola detectada en la captura anterior.
 En rojo se observa los datos tomados por el sistema implementado y en verde
 se muestra los datos obtenidos por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Standard
Por otro lado podemos analizar la segunda situación (2), la cual a su vez
 se puede dividir en dos situaciones mas: a) Cuando la nueva altura de ola
 detectada (el P2 mencionado anteriormente) es un contorno 
\begin_inset Quotes eld
\end_inset

fijo
\begin_inset Quotes erd
\end_inset

 que se mantiene a lo largo de todas las imágenes (por ejemplo un borde
 del canal el cual en cada imagen procesada siempre se detecta el mismo
 contorno); o b) cuando el nuevo P2 detectado pertenece algún contorno no
 
\begin_inset Quotes eld
\end_inset

fijo
\begin_inset Quotes erd
\end_inset

 y por ende puede aparecer y desaparecer a lo largo de las imágenes procesadas
 (como por ejemplo reflejos de luces momentáneos sobre el vidrio del canal,
 o partículas en el fluido, etc).
 
\end_layout

\begin_layout Standard
Para el primer caso (a), se puede detectar casi al comienzo del ensayo,
 ya que en estos casos, si sucede, el algoritmo es incapaz de salir de ese
 contorno (por como fue implementado), y por ende, siempre se devuelve la
 misma altura de ola (que es el contorno fijo mencionado).
\end_layout

\begin_layout Standard
La segunda situación (b), aunque en general no sucede, es mas difícil de
 evitar.
 En la 
\shape italic
Figura
\shape default
 
\shape italic
\color black

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Error-(remarcado-en"

\end_inset


\shape default
 
\color inherit
se observa como hay un salto abrupto en la continuidad de los datos obtenidos,
 debido a la falla en la detección de la altura de ola y en donde se detecto
 un contorno 
\begin_inset Quotes eld
\end_inset

temporal
\begin_inset Quotes erd
\end_inset

 ubicado en el vértice del arco remarcado.
 Como se puede ver además, en la siguiente ola detectada (a la derecha)
 este error no sucede nuevamente.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_captura_err2.png
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Error-(remarcado-en"

\end_inset

Error (remarcado en azul) causado por la imposibilidad de detectar la superficie
 libre, en donde el sistema devuelve la altura mas cercana al ultimo punto
 detectado.
 En rojo se observa los datos tomados por el sistema implementado y en verde
 los obtenidos por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Claramente ambos casos (1 y 2), generan grandes diferencias en los valores
 capturados por el sistema implementado en comparación con los obtenidos
 por el sensor resistivo.
 Una posible situación que solventa estos errores es la disminución de los
 valores umbrales utilizados en el algoritmo de 
\shape italic
Canny
\shape default
.
 En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Error-(remarcado-en-1-1"

\end_inset

, (la cual es la misma que la imagen superior de la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Comparacion-del-segundo"

\end_inset

 luego de aplicar el algoritmo de 
\shape italic
Canny
\shape default
) se puede ver que la zona (remarcada en rojo) que anteriormente no se detectaba
 la superficie libre en este caso si lo hace, pero con una especie de interferen
cia (no es una linea continua como se lo observa a la izquierda del sensor
 en la imagen).
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_cap_ruido.png
	width 45page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Error-(remarcado-en-1-1"

\end_inset

Interferencia en la detección de la superficie libre generada a causa de
 la utilización de valores bajos en los umbrales del algoritmo de 
\shape italic
Canny
\shape default
.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Esta interferencia varia mucho a medida que la ola se traslada generando
 un cambio brusco en los valores de la altura de la superficie libre detectada
 por el sistema.
 En la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Error-(remarcado-en-1"

\end_inset

 se puede observar el resultado de tal situación.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_vel_captura_err_noise.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Error-(remarcado-en-1"

\end_inset

Errores (remarcados en azul) causado por los bajos valores de los umbrales
 del algoritmo de Canny utilizados para solventar el problema de detección
 de la superficie libre en movimiento.
 En rojo se observa los datos tomados por el sistema implementado y en verde
 los obtenidos por el sensor resistivo.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Superficie libre
\end_layout

\begin_layout Standard
Otro inconveniente que se pudo observar es el hecho de la doble linea (doble
 contorno) que se detecta al capturar la altura de la superficie libre como
 lo indica la 
\shape italic
Figura
\shape default
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Doble-contorno-detectado"

\end_inset

.
 En la imagen superior se muestra la imagen capturada por la cámara de vídeo,
 en la inferior el resultado de aplicar sobre la primera el algoritmo de
 detección de contornos (
\shape italic
Canny
\shape default
).
 Este tipo de situación genera en algunos casos (cuando el movimiento de
 la ola es muy rápido/brusco) un error similar al planteado en el subcapítulo
 anterior, en donde los 2 bordes pueden ser no detectados de forma intercalada
 (primero se detecta uno y luego el otro) generando pequeños saltos (que
 en este caso son de aproximadamente 4 mm) en los datos capturados y por
 ende en la altura de ola resultado.
 Probablemente esto pueda ser resuelto utilizando distintos tipos de luces
 que eviten resaltar el borde de la superficie de esa forma.
 Otra posible solución (a investigar) podría ser colorear todo el liquido
 del canal con un tono opaco de forma tal que no se alcance apreciar la
 linea divisoria entre el agua y el aire.
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\align center
\begin_inset Graphics
	filename imagenes/analisis_resultados/consideraciones_finales/img_superficie_libre.png
	width 55page%

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Doble-contorno-detectado"

\end_inset

Doble contorno detectado de la superficie libre.
\end_layout

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Conclusiones
\end_layout

\begin_layout Standard
En este trabajo se propuso desarrollar un sistema capaz de capturar la altura
 de la ola en un canal 2D de laboratorio por medio de una cámara web y en
 tiempo real.
 Como se pudo observar en los análisis de los resultados del capitulo anterior,
 la precisión del sistema esta ligada y fuertemente afectada por factores
 externos como la luz utilizada (intentando buscar siempre aquella que genere
 mayor contraste entre el fluido y la superficie y al mismo tiempo no genere
 reflejos sobre el vidrio del canal), la cantidad de partículas tanto en
 el fluido como en las paredes del canal, la posición y ángulo de la cámara
 la cual cumple un papel crucial, y además los valores de configuración
 para el algoritmo de detección de contornos, el cual varia dependiendo
 de los factores recientemente mencionados.
\end_layout

\begin_layout Standard
Se puede decir que el sistema logra capturar y analizar la altura de ola
 en tiempo real y a una velocidad superior a la mínima esperada (alcanzando
 25 Hz) mostrando al mismo tiempo el proceso del ensayo realizado y los
 datos obtenidos (lo que quiere decir que puede correrse la interfaz gráfica
 en simultaneo con el proceso de captura).
 Aún así no se logro alcanzar una precisión milimétrica para poder realizar
 mediciones que requieran un error menor a 0.55 cm, donde las causas se debieron
 tanto por motivos de hardware (velocidad de captura), software (post-procesamie
nto de datos, utilización de otros algoritmos) como de factores externos
 (luminosidad, partículas en el fluido y en las paredes del canal, etc).
 Por otro lado se pudieron realizar mediciones en donde los errores de los
 valores de importancia como 
\begin_inset Formula $H_{s}$
\end_inset

 y 
\begin_inset Formula $T_{p}$
\end_inset

 se encuentran aproximadamente en el orden de los 0.1 cm y 0.009 segundos
 respectivamente, lo cual habilitaría al sistema para ser utilizado en diversas
 pruebas de ingeniería en laboratorio.
\end_layout

\begin_layout Standard
Se considera además que los algoritmos seleccionados para la implementación
 del sistema cumplieron con su finalidad de una manera satisfactoria tanto
 en calidad como velocidad, brindando asimismo al sistema una forma fácil
 de configurarlo.
\end_layout

\begin_layout Standard
Por otro lado se considera altamente viable la posibilidad de aumentar la
 precisión del sistema por medio de distintos algoritmos en la fase final
 que complementen los posibles errores introducidos por la velocidad de
 captura de la cámara, como así también en una etapa posterior a la detección
 de los datos (post-procesamiento) en la que se filtren y corrijan aquellos
 valores que se consideren erróneos.
\end_layout

\begin_layout Standard
Se logro además armar una interfaz gráfica que permitiese al usuario del
 sistema una fácil y rápida configuración a la hora de realizar las mediciones,
 dándole mucha flexibilidad sobre los parámetros utilizados en los algoritmos
 de las distintas etapas.
\end_layout

\begin_layout Standard
Fuera del sistema implementado para detectar la altura de la superficie
 libre, se logro desarrollar además un 
\shape italic
framework
\shape default
 el cual permitirá crear futuras aplicaciones (que brinden la oportunidad
 de medir otras variables hidrodinámicas) de una forma mas fácil y rápida,
 dando también la opción de utilizar el GPU como unidad de procesamiento.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Section
Trabajos futuros
\end_layout

\begin_layout Standard
Algunos de los trabajos futuros que se pueden realizar tomando como base
 el actual son:
\end_layout

\begin_layout Itemize
Desarrollar nuevos 
\shape italic
IPS 
\shape default
(
\shape italic
Image Processing System
\shape default
) que implementen otras funcionalidades para medir distintas variables hidrodiná
micas utilizando el 
\shape italic
framework
\shape default
 desarrollado, como por ejemplo detectar y analizar la forma de la rotura
 de la ola, realizar tracking de partículas en el fluido, etc.
\end_layout

\begin_layout Itemize
Desarrollar un algoritmo que permita detectar la altura de la ola en cada
 columna de píxeles de la imagen capturada por la vídeo cámara por medio
 de la paralelización y usando el GPU como unidad de procesamiento (con
 el objetivo de mantener la captura en tiempo real), logrando de esta forma
 determinar la altura de la superficie libre con mucho mayor precisión.
\end_layout

\begin_layout Itemize
Probar y comparar diferentes algoritmos utilizados en las distintas etapas
 con el fin de aumentar la precisión de captura de datos y disminuir la
 detección de ruido al máximo (intentar lograr que el sistema no sea tan
 sensible al entorno como los cambios de luces, partículas en la zona de
 captura, etc).
 Y realizar en una segunda etapa el post procesamiento de los datos obtenidos
 con el objetivo de eliminar por medio de distintas técnicas (uso de splines
 por ejemplo) aquellos datos erróneos y corregir al mismo tiempo aquellos
 que se consideren 
\begin_inset Quotes eld
\end_inset

desfasados
\begin_inset Quotes erd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Newpage pagebreak
\end_inset


\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-2"

\end_inset


\lang english
www.horusvideo.com
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3"

\end_inset


\lang english
Robert M.
 Sorensen, 
\begin_inset Quotes eld
\end_inset

Basic Coastal Engineering
\begin_inset Quotes eld
\end_inset

 (Third Edition), Department of Civil and Environmental Engineering, Lehigh
 University, Bethlehem, Pennsylvania, 2006.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-4"

\end_inset


\lang english
Robert G.
 Dean, Robert A.
 Dalrymple, 
\begin_inset Quotes eld
\end_inset

Water Wave Mechanics for Engineers and Scientists
\begin_inset Quotes erd
\end_inset

, Prentice-Hall, Inc.
 Englewwod Cliffs, New Jersey 07632.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-5"

\end_inset


\lang english
G.I.O.C., 
\begin_inset Quotes eld
\end_inset

Documento de referencia, Volumen 1: Dinámicas
\begin_inset Quotes erd
\end_inset

,
\color black
 www.smc.unican.es,
\color inherit
 Universidad de Cantabria, 2000.
\end_layout

\begin_layout Bibliography

\lang english
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-6"

\end_inset

Ricardo V.
 Petroni, 
\begin_inset Quotes eld
\end_inset

Hidráulica marĩtima y de estuarios
\begin_inset Quotes erd
\end_inset

, Dunken, Buenos Aires, 2005.
\end_layout

\begin_layout Bibliography

\lang english
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-7"

\end_inset


\lang spanish
Perez Muñoz, Juan C.
 
\begin_inset Quotes eld
\end_inset

Optimización no lineal y calibración de cámaras fotográficas
\begin_inset Quotes erd
\end_inset

.
 Medellín, 2009.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-8"

\end_inset


\lang english
Medellín, 2009.
\lang spanish
P.D.M.
 Brady , M.
 Boutounet and S.
 Beecham.
 
\begin_inset Quotes eld
\end_inset

Free Surface Monitoring Using Image Processing
\begin_inset Quotes erd
\end_inset

.
 University of Technology Sydney, NSW, 2007.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-9"

\end_inset

http://hdl.handle.net/2099.1/5945, Cap.
 5.
 Procesado de Imágenes.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-10"

\end_inset

Rong Zhang .
 
\begin_inset Quotes eld
\end_inset

Image Rectification: Remove Projective and Affine Distortions
\begin_inset Quotes erd
\end_inset

.
 
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-11"

\end_inset

Ehsan Nadernejad, Sara Sharifzadeh and Hamid Hassanpour.
 
\begin_inset Quotes eld
\end_inset

Edge Detection Techniques: Evaluations and Comparisons
\begin_inset Quotes erd
\end_inset

.
 Applied Mathematical Sciences, Vol.
 2, 2008.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-12"

\end_inset

Ing.
 Francisco J.
 Sánchez R., 
\begin_inset Quotes eld
\end_inset

Medicion y Analisis de las Variaciones en el Nivel de un Modelo Físico Empleando
 Imágenes
\begin_inset Quotes erd
\end_inset

, Universidad Autonoma Metropolinata Unidad Azcapotzalco, 2010.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-13"

\end_inset

S.
 Barreto Melo.
 
\begin_inset Quotes eld
\end_inset

Transformaciones geométricas sobre imágenes digitales
\begin_inset Quotes erd
\end_inset

.
 Universidad Distrital Francisco José de Caldas.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-14"

\end_inset

Gary Bradski, Adrian Kaehler, 
\begin_inset Quotes eld
\end_inset

Learning OpenCV: Computer Vision with the OpenCV Library
\begin_inset Quotes erd
\end_inset

, O'Reilly, September 2008.
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-15"

\end_inset

Christopher R.
 Wren, http://alumni.media.mit.edu/~cwren/interpolator/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-16"

\end_inset

"UNIVERSITY OF EDIMBURGH SCHOOL OF INFORMATIC".
 http://www.inf.ed.ac.uk/
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-17"

\end_inset


\lang english
Canny Edge Detection.
 09gr820, March 23, 2009 
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-18"

\end_inset

Gamma, Helm, Johnson, Vlissides.
 
\begin_inset Quotes eld
\end_inset

Design Patterns: Elements of Reusable Object Oriented Software
\begin_inset Quotes erd
\end_inset

.
 1994
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-19"

\end_inset

http://www.seafriends.org.nz/oceano/waves.htm
\end_layout

\begin_layout Bibliography
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-1"

\end_inset

http://code.google.com/p/hvdrt/
\end_layout

\end_body
\end_document
